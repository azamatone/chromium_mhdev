From 22cf17bfe62d9ab49c18e436a3e92abb0d2a6559 Mon Sep 17 00:00:00 2001
From: Yawm SDK <azureuser@yawm-2-vm.sienciuyguvrf.cloudapp.net>
Date: Fri, 3 May 2024 12:02:20 +0000
Subject: [YAWM] Fix NSFW Youtube filtering bug

---
 chrome/browser/addons/nsfw/nsfw.cc | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/chrome/browser/addons/nsfw/nsfw.cc b/chrome/browser/addons/nsfw/nsfw.cc
index 65a18613dd8ae..f1ac69b2a22fa 100644
--- a/chrome/browser/addons/nsfw/nsfw.cc
+++ b/chrome/browser/addons/nsfw/nsfw.cc
@@ -5419,7 +5419,7 @@ class s extends a.a{decodeUTF8(){return new o(this)}}class o extends i.a{constru
  * limitations under the License.
  *
  * =============================================================================
- */class a extends r.a{split(t){return new i(this,t)}}class i extends a{constructor(t,e){super(),this.upstream=t,this.impl=new s(t,e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class s extends r.b{constructor(t,e){super(),this.upstream=t,this.separator=e,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){const t=await this.upstream.next();if(t.done)return""!==this.carryover&&(this.outputQueue.push(this.carryover),this.carryover="",!0);const e=t.value.split(this.separator);e[0]=this.carryover+e[0];for(const t of e.slice(0,-1))this.outputQueue.push(t);return this.carryover=e[e.length-1],!0}}},function(t,e,n){var r=n(315),a=n(316),i=n(317),s=n(318),o=n(319),u=n(320),c=n(321);c.alea=r,c.xor128=a,c.xorwow=i,c.xorshift7=s,c.xor4096=o,c.tychei=u,t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(289),a=n(395),i=n(398),s=n(399);(0,r.load)("https://raw.githubusercontent.com/elb3k/nsfw-chromium/main/models/mobilenet_v2/").then((function(t){var e;e=function(){var e=new i.Model(t,{filterStrictness:80}),n=new s.PredictionQueue(e);new a.DomObserver(n).watch()},"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",(function(t){e()}))})).catch((function(t){console.log("failed to load model: ",t)}))},function(t,e,n){"use strict";(function(t){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function o(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NSFWJS=e.load=void 0;var c=i(n(401)),l=n(323),d=u(n(324));e.load=function(t,e){return void 0===t&&(t="https://d1zv2aa70wpiur.cloudfront.net/tfjs_quant_nsfw_mobilenet/"),void 0===e&&(e={size:224}),s(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:if(null==c)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");return e.size=e.size||224,[4,(n=new h(t,e)).load()];case 1:return r.sent(),[2,n]}}))}))};var h=function(){function e(t,e){this.intermediateModels={},this.options=e,this.normalizationOffset=c.scalar(255),"string"!=typeof t||t.startsWith("indexeddb://")||t.startsWith("localstorage://")?this.pathOrIOHandler=t:this.pathOrIOHandler=t+"model.json"}return e.prototype.load=function(){return s(this,void 0,void 0,(function(){var t,e,n,r,a,i=this;return o(this,(function(s){switch(s.label){case 0:return t=this.options,e=t.size,"graph"!==t.type?[3,2]:(n=this,[4,c.loadGraphModel(this.pathOrIOHandler)]);case 1:return n.model=s.sent(),[3,4];case 2:return r=this,[4,c.loadLayersModel(this.pathOrIOHandler)];case 3:r.model=s.sent(),this.endpoints=this.model.layers.map((function(t){return t.name})),s.label=4;case 4:return[4,(a=c.tidy((function(){return i.model.predict(c.zeros([1,e,e,3]))}))).data()];case 5:return s.sent(),a.dispose(),[2]}}))}))},e.prototype.infer=function(t,e){var n=this;if(null!=e&&-1===this.endpoints.indexOf(e))throw new Error("Unknown endpoint "+e+". Available endpoints: "+this.endpoints+".");return c.tidy((function(){t instanceof c.Tensor||(t=c.browser.fromPixels(t));var r=t.toFloat().div(n.normalizationOffset),a=r,i=n.options.size;if(t.shape[0]!==i||t.shape[1]!==i){a=c.image.resizeBilinear(r,[i,i],!0)}var s,o=a.reshape([1,i,i,3]);if(null==e)s=n.model;else{if(n.model.hasOwnProperty("layers")&&null==n.intermediateModels[e]){var u=n.model.layers.find((function(t){return t.name===e}));n.intermediateModels[e]=c.model({inputs:n.model.inputs,outputs:u.output})}s=n.intermediateModels[e]}return s.predict(o)}))},e.prototype.classify=function(t,e){return void 0===e&&(e=5),s(this,void 0,void 0,(function(){var n,r;return o(this,(function(a){switch(a.label){case 0:return[4,p(n=this.infer(t),e)];case 1:return r=a.sent(),n.dispose(),[2,r]}}))}))},e.prototype.classifyGif=function(e,n){return void 0===n&&(n={topk:5}),s(this,void 0,void 0,(function(){var r,a,i,s,u,c,l,h,p;return o(this,(function(o){switch(o.label){case 0:return r=[],t.isBuffer(e)?[4,d.default({url:e,frames:"all",outputType:"jpg"})]:[3,2];case 1:return r=o.sent(),[3,4];case 2:return[4,d.default({url:e.src,frames:"all",outputType:"canvas"})];case 3:r=o.sent(),o.label=4;case 4:if(a=[],"number"!=typeof n.fps)a=r.map((function(t,e){return e}));else{for(i=0,l=0;l<r.length;l++)i+=10*r[l].frameInfo.delay;if((s=Math.floor(i/1e3*n.fps))<=1)a=[Math.floor(r.length/2)];else if(s>=r.length)a=r.map((function(t,e){return e}));else for(u=Math.floor(r.length/(s+1)),l=1;l<=s;l++)a.push(l*u)}c=[],l=0,o.label=5;case 5:return l<a.length?(h=r[a[l]].getImage(),[4,this.classify(h,n.topk)]):[3,8];case 6:p=o.sent(),"function"==typeof n.onFrame&&n.onFrame({index:a[l],totalFrames:r.length,predictions:p,image:h}),c.push(p),o.label=7;case 7:return l++,[3,5];case 8:return[2,c]}}))}))},e}();function p(t,e){return s(this,void 0,void 0,(function(){var n,r,a,i,s,u;return o(this,(function(o){switch(o.label){case 0:return[4,t.data()];case 1:for(n=o.sent(),r=[],u=0;u<n.length;u++)r.push({value:n[u],index:u});for(r.sort((function(t,e){return e.value-t.value})),a=new Float32Array(e),i=new Int32Array(e),u=0;u<e;u++)a[u]=r[u].value,i[u]=r[u].index;for(s=[],u=0;u<i.length;u++)s.push({className:l.NSFW_CLASSES[i[u]],probability:a[u]});return[2,s]}}))}))}e.NSFWJS=h}).call(this,n(29).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),s=r[0],o=r[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,o)),l=0,d=o>0?s-4:s;for(n=0;n<d;n+=4)e=a[t.charCodeAt(n)]<<18|a[t.charCodeAt(n+1)]<<12|a[t.charCodeAt(n+2)]<<6|a[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===o&&(e=a[t.charCodeAt(n)]<<2|a[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===o&&(e=a[t.charCodeAt(n)]<<10|a[t.charCodeAt(n+1)]<<4|a[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,a=n%3,i=[],s=0,o=n-a;s<o;s+=16383)i.push(l(t,s,s+16383>o?o:s+16383));1===a?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===a&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)r[o]=s[o],a[s.charCodeAt(o)]=o;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var a,i,s=[],o=e;o<n;o+=3)a=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){
+ */class a extends r.a{split(t){return new i(this,t)}}class i extends a{constructor(t,e){super(),this.upstream=t,this.impl=new s(t,e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class s extends r.b{constructor(t,e){super(),this.upstream=t,this.separator=e,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){const t=await this.upstream.next();if(t.done)return""!==this.carryover&&(this.outputQueue.push(this.carryover),this.carryover="",!0);const e=t.value.split(this.separator);e[0]=this.carryover+e[0];for(const t of e.slice(0,-1))this.outputQueue.push(t);return this.carryover=e[e.length-1],!0}}},function(t,e,n){var r=n(315),a=n(316),i=n(317),s=n(318),o=n(319),u=n(320),c=n(321);c.alea=r,c.xor128=a,c.xorwow=i,c.xorshift7=s,c.xor4096=o,c.tychei=u,t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(289),a=n(395),i=n(398),s=n(399);(0,r.load)("https://raw.githubusercontent.com/elb3k/nsfw-chromium/main/models/mobilenet_v2/").then((function(t){var e;e=function(){var e=new i.Model(t,{filterStrictness:100}),n=new s.PredictionQueue(e);new a.DomObserver(n).watch()},"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",(function(t){e()}))})).catch((function(t){console.log("failed to load model: ",t)}))},function(t,e,n){"use strict";(function(t){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function o(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NSFWJS=e.load=void 0;var c=i(n(401)),l=n(323),d=u(n(324));e.load=function(t,e){return void 0===t&&(t="https://d1zv2aa70wpiur.cloudfront.net/tfjs_quant_nsfw_mobilenet/"),void 0===e&&(e={size:224}),s(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:if(null==c)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");return e.size=e.size||224,[4,(n=new h(t,e)).load()];case 1:return r.sent(),[2,n]}}))}))};var h=function(){function e(t,e){this.intermediateModels={},this.options=e,this.normalizationOffset=c.scalar(255),"string"!=typeof t||t.startsWith("indexeddb://")||t.startsWith("localstorage://")?this.pathOrIOHandler=t:this.pathOrIOHandler=t+"model.json"}return e.prototype.load=function(){return s(this,void 0,void 0,(function(){var t,e,n,r,a,i=this;return o(this,(function(s){switch(s.label){case 0:return t=this.options,e=t.size,"graph"!==t.type?[3,2]:(n=this,[4,c.loadGraphModel(this.pathOrIOHandler)]);case 1:return n.model=s.sent(),[3,4];case 2:return r=this,[4,c.loadLayersModel(this.pathOrIOHandler)];case 3:r.model=s.sent(),this.endpoints=this.model.layers.map((function(t){return t.name})),s.label=4;case 4:return[4,(a=c.tidy((function(){return i.model.predict(c.zeros([1,e,e,3]))}))).data()];case 5:return s.sent(),a.dispose(),[2]}}))}))},e.prototype.infer=function(t,e){var n=this;if(null!=e&&-1===this.endpoints.indexOf(e))throw new Error("Unknown endpoint "+e+". Available endpoints: "+this.endpoints+".");return c.tidy((function(){t instanceof c.Tensor||(t=c.browser.fromPixels(t));var r=t.toFloat().div(n.normalizationOffset),a=r,i=n.options.size;if(t.shape[0]!==i||t.shape[1]!==i){a=c.image.resizeBilinear(r,[i,i],!0)}var s,o=a.reshape([1,i,i,3]);if(null==e)s=n.model;else{if(n.model.hasOwnProperty("layers")&&null==n.intermediateModels[e]){var u=n.model.layers.find((function(t){return t.name===e}));n.intermediateModels[e]=c.model({inputs:n.model.inputs,outputs:u.output})}s=n.intermediateModels[e]}return s.predict(o)}))},e.prototype.classify=function(t,e){return void 0===e&&(e=5),s(this,void 0,void 0,(function(){var n,r;return o(this,(function(a){switch(a.label){case 0:return[4,p(n=this.infer(t),e)];case 1:return r=a.sent(),n.dispose(),[2,r]}}))}))},e.prototype.classifyGif=function(e,n){return void 0===n&&(n={topk:5}),s(this,void 0,void 0,(function(){var r,a,i,s,u,c,l,h,p;return o(this,(function(o){switch(o.label){case 0:return r=[],t.isBuffer(e)?[4,d.default({url:e,frames:"all",outputType:"jpg"})]:[3,2];case 1:return r=o.sent(),[3,4];case 2:return[4,d.default({url:e.src,frames:"all",outputType:"canvas"})];case 3:r=o.sent(),o.label=4;case 4:if(a=[],"number"!=typeof n.fps)a=r.map((function(t,e){return e}));else{for(i=0,l=0;l<r.length;l++)i+=10*r[l].frameInfo.delay;if((s=Math.floor(i/1e3*n.fps))<=1)a=[Math.floor(r.length/2)];else if(s>=r.length)a=r.map((function(t,e){return e}));else for(u=Math.floor(r.length/(s+1)),l=1;l<=s;l++)a.push(l*u)}c=[],l=0,o.label=5;case 5:return l<a.length?(h=r[a[l]].getImage(),[4,this.classify(h,n.topk)]):[3,8];case 6:p=o.sent(),"function"==typeof n.onFrame&&n.onFrame({index:a[l],totalFrames:r.length,predictions:p,image:h}),c.push(p),o.label=7;case 7:return l++,[3,5];case 8:return[2,c]}}))}))},e}();function p(t,e){return s(this,void 0,void 0,(function(){var n,r,a,i,s,u;return o(this,(function(o){switch(o.label){case 0:return[4,t.data()];case 1:for(n=o.sent(),r=[],u=0;u<n.length;u++)r.push({value:n[u],index:u});for(r.sort((function(t,e){return e.value-t.value})),a=new Float32Array(e),i=new Int32Array(e),u=0;u<e;u++)a[u]=r[u].value,i[u]=r[u].index;for(s=[],u=0;u<i.length;u++)s.push({className:l.NSFW_CLASSES[i[u]],probability:a[u]});return[2,s]}}))}))}e.NSFWJS=h}).call(this,n(29).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),s=r[0],o=r[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,o)),l=0,d=o>0?s-4:s;for(n=0;n<d;n+=4)e=a[t.charCodeAt(n)]<<18|a[t.charCodeAt(n+1)]<<12|a[t.charCodeAt(n+2)]<<6|a[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===o&&(e=a[t.charCodeAt(n)]<<2|a[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===o&&(e=a[t.charCodeAt(n)]<<10|a[t.charCodeAt(n+1)]<<4|a[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,a=n%3,i=[],s=0,o=n-a;s<o;s+=16383)i.push(l(t,s,s+16383>o?o:s+16383));1===a?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===a&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)r[o]=s[o],a[s.charCodeAt(o)]=o;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var a,i,s=[],o=e;o<n;o+=3)a=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){
 /*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
 e.read=function(t,e,n,r,a){var i,s,o=8*a-r-1,u=(1<<o)-1,c=u>>1,l=-7,d=n?a-1:0,h=n?-1:1,p=t[e+d];for(d+=h,i=p&(1<<-l)-1,p>>=-l,l+=o;l>0;i=256*i+t[e+d],d+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+t[e+d],d+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=c}return(p?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,a,i){var s,o,u,c=8*i-a-1,l=(1<<c)-1,d=l>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,f=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+d>=1?h/u:h*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(o=0,s=l):s+d>=1?(o=(e*u-1)*Math.pow(2,a),s+=d):(o=e*Math.pow(2,d-1)*Math.pow(2,a),s=0));a>=8;t[n+p]=255&o,p+=f,o/=256,a-=8);for(s=s<<a|o,c+=a;c>0;t[n+p]=255&s,p+=f,s/=256,c-=8);t[n+p-f]|=128*m}},function(t,e,n){"use strict";(function(t){var e=n(19);
 /**
@@ -5447,7 +5447,7 @@ e.read=function(t,e,n,r,a){var i,s,o=8*a-r-1,u=(1<<o)-1,c=u>>1,l=-7,d=n?a-1:0,h=
  */
 t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function r(t,e,n,r){for(var a=t[e++],i=1<<a,s=i+1,o=s+1,u=a+1,c=(1<<u)-1,l=0,d=0,h=0,p=t[e++],f=new Int32Array(4096),m=null;;){for(;l<16&&0!==p;)d|=t[e++]<<l,l+=8,1===p?p=t[e++]:--p;if(l<u)break;var b=d&c;if(d>>=u,l-=u,b!==i){if(b===s)break;for(var g=b<o?b:m,y=0,v=g;v>i;)v=f[v]>>8,++y;var w=v;if(h+y+(g!==b?1:0)>r)return void console.log("Warning, gif stream longer than expected.");n[h++]=w;var x=h+=y;for(g!==b&&(n[h++]=w),v=g;y--;)v=f[v],n[--x]=255&v,v>>=8;null!==m&&o<4096&&(f[o++]=m<<8|w,o>=c+1&&u<12&&(++u,c=c<<1|1)),m=b}else o=s+1,c=(1<<(u=a+1))-1,m=null}return h!==r&&console.log("Warning, gif stream shorter than expected."),n}try{e.GifWriter=function(t,e,n,r){var a=0,i=void 0===(r=void 0===r?{}:r).loop?null:r.loop,s=void 0===r.palette?null:r.palette;if(e<=0||n<=0||e>65535||n>65535)throw new Error("Width/Height invalid.");function o(t){var e=t.length;if(e<2||e>256||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[a++]=71,t[a++]=73,t[a++]=70,t[a++]=56,t[a++]=57,t[a++]=97;var u=0,c=0;if(null!==s){for(var l=o(s);l>>=1;)++u;if(l=1<<u,--u,void 0!==r.background){if((c=r.background)>=l)throw new Error("Background index out of range.");if(0===c)throw new Error("Background index explicitly passed as 0.")}}if(t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&n,t[a++]=n>>8&255,t[a++]=(null!==s?128:0)|u,t[a++]=c,t[a++]=0,null!==s)for(var d=0,h=s.length;d<h;++d){var p=s[d];t[a++]=p>>16&255,t[a++]=p>>8&255,t[a++]=255&p}if(null!==i){if(i<0||i>65535)throw new Error("Loop count invalid.");t[a++]=33,t[a++]=255,t[a++]=11,t[a++]=78,t[a++]=69,t[a++]=84,t[a++]=83,t[a++]=67,t[a++]=65,t[a++]=80,t[a++]=69,t[a++]=50,t[a++]=46,t[a++]=48,t[a++]=3,t[a++]=1,t[a++]=255&i,t[a++]=i>>8&255,t[a++]=0}var f=!1;this.addFrame=function(e,n,r,i,u,c){if(!0===f&&(--a,f=!1),c=void 0===c?{}:c,e<0||n<0||e>65535||n>65535)throw new Error("x/y invalid.");if(r<=0||i<=0||r>65535||i>65535)throw new Error("Width/Height invalid.");if(u.length<r*i)throw new Error("Not enough pixels for the frame size.");var l=!0,d=c.palette;if(null==d&&(l=!1,d=s),null==d)throw new Error("Must supply either a local or global palette.");for(var h=o(d),p=0;h>>=1;)++p;h=1<<p;var m=void 0===c.delay?0:c.delay,b=void 0===c.disposal?0:c.disposal;if(b<0||b>3)throw new Error("Disposal out of range.");var g=!1,y=0;if(void 0!==c.transparent&&null!==c.transparent&&(g=!0,(y=c.transparent)<0||y>=h))throw new Error("Transparent color index.");if((0!==b||g||0!==m)&&(t[a++]=33,t[a++]=249,t[a++]=4,t[a++]=b<<2|(!0===g?1:0),t[a++]=255&m,t[a++]=m>>8&255,t[a++]=y,t[a++]=0),t[a++]=44,t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&n,t[a++]=n>>8&255,t[a++]=255&r,t[a++]=r>>8&255,t[a++]=255&i,t[a++]=i>>8&255,t[a++]=!0===l?128|p-1:0,!0===l)for(var v=0,w=d.length;v<w;++v){var x=d[v];t[a++]=x>>16&255,t[a++]=x>>8&255,t[a++]=255&x}return a=function(t,e,n,r){t[e++]=n;var a=e++,i=1<<n,s=i-1,o=i+1,u=o+1,c=n+1,l=0,d=0;function h(n){for(;l>=n;)t[e++]=255&d,d>>=8,l-=8,e===a+256&&(t[a]=255,a=e++)}function p(t){d|=t<<l,l+=c,h(8)}var f=r[0]&s,m={};p(i);for(var b=1,g=r.length;b<g;++b){var y=r[b]&s,v=f<<8|y,w=m[v];if(void 0===w){for(d|=f<<l,l+=c;l>=8;)t[e++]=255&d,d>>=8,l-=8,e===a+256&&(t[a]=255,a=e++);4096===u?(p(i),u=o+1,c=n+1,m={}):(u>=1<<c&&++c,m[v]=u++),f=y}else f=w}p(f),p(o),h(1),a+1===e?t[a]=0:(t[a]=e-a-1,t[e++]=0);return e}(t,a,p<2?2:p,u)},this.end=function(){return!1===f&&(t[a++]=59,f=!0),a},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(t){a=t}},e.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var u=null,c=null;s&&(u=e,c=o,e+=3*o);var l=!0,d=[],h=0,p=null,f=0,m=null;for(this.width=n,this.height=a;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(0===N)break;e+=N}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var b=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],0==(1&b)&&(p=null),f=b>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(0===N)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++],O=x>>6&1,k=1<<(7&x)+1,I=u,S=c,j=!1;if(x>>7){j=!0;I=e,S=k,e+=3*k}var _=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(0===N)break;e+=N}d.push({x:g,y:y,width:v,height:w,has_local_palette:j,palette_offset:I,palette_size:S,data_offset:_,data_length:e-_,transparent_index:p,interlaced:!!O,delay:h,disposal:f});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(t){if(t<0||t>=d.length)throw new Error("Frame index out of range.");return d[t]},this.decodeAndBlitFrameBGRA=function(e,a){var i=this.frameInfo(e),s=i.width*i.height,o=new Uint8Array(s);r(t,i.data_offset,o,s);var u=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var l=i.width,d=n-l,h=l,p=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),m=p,b=4*d;!0===i.interlaced&&(b+=4*n*7);for(var g=8,y=0,v=o.length;y<v;++y){var w=o[y];if(0===h&&(h=l,(m+=b)>=f&&(b=4*d+4*n*(g-1),m=p+(l+d)*(g<<1),g>>=1)),w===c)m+=4;else{var x=t[u+3*w],O=t[u+3*w+1],k=t[u+3*w+2];a[m++]=k,a[m++]=O,a[m++]=x,a[m++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,a){var i=this.frameInfo(e),s=i.width*i.height,o=new Uint8Array(s);r(t,i.data_offset,o,s);var u=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var l=i.width,d=n-l,h=l,p=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),m=p,b=4*d;!0===i.interlaced&&(b+=4*n*7);for(var g=8,y=0,v=o.length;y<v;++y){var w=o[y];if(0===h&&(h=l,(m+=b)>=f&&(b=4*d+4*n*(g-1),m=p+(l+d)*(g<<1),g>>=1)),w===c)m+=4;else{var x=t[u+3*w],O=t[u+3*w+1],k=t[u+3*w+2];a[m++]=x,a[m++]=O,a[m++]=k,a[m++]=255}--h}}}}catch(t){}},function(t,e,n){"use strict";var r=n(194),a=n(332);t.exports=function(t,e){for(var n=[],i=t,s=1;Array.isArray(i);)n.push(i.length),s*=i.length,i=i[0];return 0===n.length?r():(e||(e=r(new Float64Array(s),n)),a(e,t),e)}},function(t,e,n){t.exports=n(240)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(t,e,n){"use strict";var r=n(334);t.exports=function(t){var e=["'use strict'","var CACHED={}"],n=[],a=t.funcName+"_cwise_thunk";e.push(["return function ",a,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],s=[],o=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var d=t.arrayArgs[l];n.push(["t",d,"=array",d,".dtype,","r",d,"=array",d,".order"].join("")),i.push("t"+d),i.push("r"+d),s.push("t"+d),s.push("r"+d+".join()"),o.push("array"+d+".data"),o.push("array"+d+".stride"),o.push("array"+d+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+d+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+d+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),l=0;l<t.scalarArgs.length;++l)o.push("scalar"+t.scalarArgs[l]);return n.push(["type=[",s.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",o.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(r.bind(void 0,t))}},function(t,e,n){"use strict";var r=n(335);function a(t,e,n){var r,a,i=t.length,s=e.arrayArgs.length,o=e.indexArgs.length>0,u=[],c=[],l=0,d=0;for(r=0;r<i;++r)c.push(["i",r,"=0"].join(""));for(a=0;a<s;++a)for(r=0;r<i;++r)d=l,l=t[r],0===r?c.push(["d",a,"s",r,"=t",a,"p",l].join("")):c.push(["d",a,"s",r,"=(t",a,"p",l,"-s",d,"*t",a,"p",d,")"].join(""));for(c.length>0&&u.push("var "+c.join(",")),r=i-1;r>=0;--r)l=t[r],u.push(["for(i",r,"=0;i",r,"<s",l,";++i",r,"){"].join(""));for(u.push(n),r=0;r<i;++r){for(d=l,l=t[r],a=0;a<s;++a)u.push(["p",a,"+=d",a,"s",r].join(""));o&&(r>0&&u.push(["index[",d,"]-=s",d].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,n){for(var r=t.body,a=[],i=[],s=0;s<t.args.length;++s){var o=t.args[s];if(!(o.count<=0)){var u=new RegExp(o.name,"g"),c="",l=e.arrayArgs.indexOf(s);switch(e.argTypes[s]){case"offset":var d=e.offsetArgIndex.indexOf(s);l=e.offsetArgs[d].array,c="+q"+d;case"array":c="p"+l+c;var h="l"+s,p="a"+l;if(0===e.arrayBlockIndices[l])1===o.count?"generic"===n[l]?o.lvalue?(a.push(["var ",h,"=",p,".get(",c,")"].join("")),r=r.replace(u,h),i.push([p,".set(",c,",",h,")"].join(""))):r=r.replace(u,[p,".get(",c,")"].join("")):r=r.replace(u,[p,"[",c,"]"].join("")):"generic"===n[l]?(a.push(["var ",h,"=",p,".get(",c,")"].join("")),r=r.replace(u,h),o.lvalue&&i.push([p,".set(",c,",",h,")"].join(""))):(a.push(["var ",h,"=",p,"[",c,"]"].join("")),r=r.replace(u,h),o.lvalue&&i.push([p,"[",c,"]=",h].join("")));else{for(var f=[o.name],m=[c],b=0;b<Math.abs(e.arrayBlockIndices[l]);b++)f.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(b+1)+"*t"+l+"b"+b);if(u=new RegExp(f.join(""),"g"),c=m.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[p,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(s));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[a.join("\n"),r,i.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var a=t[r],i=a.match(/\d+/);i=i?i[0]:"",0===a.charAt(0)?e[r]="u"+a.charAt(1)+i:e[r]=a.charAt(0)+i,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}t.exports=function(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,o=new Array(t.arrayArgs.length),u=new Array(t.arrayArgs.length),c=0;c<t.arrayArgs.length;++c)u[c]=e[2*c],o[c]=e[2*c+1];var l=[],d=[],h=[],p=[],f=[];for(c=0;c<t.arrayArgs.length;++c){t.arrayBlockIndices[c]<0?(h.push(0),p.push(n),l.push(n),d.push(n+t.arrayBlockIndices[c])):(h.push(t.arrayBlockIndices[c]),p.push(t.arrayBlockIndices[c]+n),l.push(0),d.push(t.arrayBlockIndices[c]));for(var m=[],b=0;b<o[c].length;b++)h[c]<=o[c][b]&&o[c][b]<p[c]&&m.push(o[c][b]-h[c]);f.push(m)}var g=["SS"],y=["'use strict'"],v=[];for(b=0;b<n;++b)v.push(["s",b,"=SS[",b,"]"].join(""));for(c=0;c<t.arrayArgs.length;++c){g.push("a"+c),g.push("t"+c),g.push("p"+c);for(b=0;b<n;++b)v.push(["t",c,"p",b,"=t",c,"[",h[c]+b,"]"].join(""));for(b=0;b<Math.abs(t.arrayBlockIndices[c]);++b)v.push(["t",c,"b",b,"=t",c,"[",l[c]+b,"]"].join(""))}for(c=0;c<t.scalarArgs.length;++c)g.push("Y"+c);if(t.shapeArgs.length>0&&v.push("shape=SS.slice(0)"),t.indexArgs.length>0){var w=new Array(n);for(c=0;c<n;++c)w[c]="0";v.push(["index=[",w.join(","),"]"].join(""))}for(c=0;c<t.offsetArgs.length;++c){var x=t.offsetArgs[c],O=[];for(b=0;b<x.offset.length;++b)0!==x.offset[b]&&(1===x.offset[b]?O.push(["t",x.array,"p",b].join("")):O.push([x.offset[b],"*t",x.array,"p",b].join("")));0===O.length?v.push("q"+c+"=0"):v.push(["q",c,"=",O.join("+")].join(""))}var k=r([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((v=v.concat(k)).length>0&&y.push("var "+v.join(",")),c=0;c<t.arrayArgs.length;++c)y.push("p"+c+"|=0");t.pre.body.length>3&&y.push(i(t.pre,t,u));var I=i(t.body,t,u),S=function(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}(f);S<n?y.push(function(t,e,n,r){for(var i=e.length,s=n.arrayArgs.length,o=n.blockSize,u=n.indexArgs.length>0,c=[],l=0;l<s;++l)c.push(["var offset",l,"=p",l].join(""));for(l=t;l<i;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",o,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",o].join("")),c.push(["j",l,"-=",o,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(l=0;l<s;++l){for(var d=["offset"+l],h=t;h<i;++h)d.push(["j",h,"*t",l,"p",e[h]].join(""));c.push(["p",l,"=(",d.join("+"),")"].join(""))}for(c.push(a(e,n,r)),l=t;l<i;++l)c.push("}");return c.join("\n")}(S,f[0],t,I)):y.push(a(f[0],t,I)),t.post.body.length>3&&y.push(i(t.post,t,u)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+y.join("\n")+"\n----------");var j=[t.funcName||"unnamed","_cwise_loop_",o[0].join("s"),"m",S,s(u)].join("");return new Function(["function ",j,"(",g.join(","),"){",y.join("\n"),"} return ",j].join(""))()}},function(t,e,n){"use strict";t.exports=function(t,e,n){return 0===t.length?t:e?(n||t.sort(e),function(t,e){for(var n=1,r=t.length,a=t[0],i=t[0],s=1;s<r;++s)if(i=a,e(a=t[s],i)){if(s===n){n++;continue}t[n++]=a}return t.length=n,t}(t,e)):(n||t.sort(),function(t){for(var e=1,n=t.length,r=t[0],a=t[0],i=1;i<n;++i,a=r)if(a=r,(r=t[i])!==a){if(i===e){e++;continue}t[e++]=r}return t.length=e,t}(t))}},function(t,e){},function(t,e,n){"use strict";var r=n(196).Buffer,a=n(338);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);for(var e,n,a,i=r.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=s.data,n=i,a=o,e.copy(n,a),o+=s.data.length,s=s.next;return i},t}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var t=a.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(84))},function(t,e,n){
 /*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
-var r=n(29),a=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return a(t,e,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s),s.prototype=Object.create(a.prototype),i(a,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=i;var r=n(245),a=Object.create(n(74));function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}a.inherits=n(70),a.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(197)},function(t,e,n){t.exports=n(100)},function(t,e,n){t.exports=n(195).Transform},function(t,e,n){t.exports=n(195).PassThrough},function(t,e,n){(function(e){t.exports=function(t){if(!/^data\:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');var n=(t=t.replace(/\r?\n/g,"")).indexOf(",");if(-1===n||n<=4)throw new TypeError("malformed data: URI");for(var r=t.substring(5,n).split(";"),a=!1,i="US-ASCII",s=0;s<r.length;s++)"base64"==r[s]?a=!0:0==r[s].indexOf("charset=")&&(i=r[s].substring(8));var o=unescape(t.substring(n+1)),u=new e(o,a?"base64":"ascii");return u.type=r[0]||"text/plain",u.charset=i,u}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(348),a=n(375).PNG,i=n(194),s=n(394),o=n(241);function u(t,e,n){if(4===t.shape.length)return u(t.pick(n),e,0);if(3===t.shape.length)if(3===t.shape[2])s.assign(i(e,[t.shape[0],t.shape[1],3],[4,4*t.shape[0],1]),t),s.assigns(i(e,[t.shape[0]*t.shape[1]],[4],3),255);else if(4===t.shape[2])s.assign(i(e,[t.shape[0],t.shape[1],4],[4,4*t.shape[0],1]),t);else{if(1!==t.shape[2])return new Error("Incompatible array shape");s.assign(i(e,[t.shape[0],t.shape[1],3],[4,4*t.shape[0],1]),i(t.data,[t.shape[0],t.shape[1],3],[t.stride[0],t.stride[1],0],t.offset)),s.assigns(i(e,[t.shape[0]*t.shape[1]],[4],3),255)}else{if(2!==t.shape.length)return new Error("Incompatible array shape");s.assign(i(e,[t.shape[0],t.shape[1],3],[4,4*t.shape[0],1]),i(t.data,[t.shape[0],t.shape[1],3],[t.stride[0],t.stride[1],0],t.offset)),s.assigns(i(e,[t.shape[0]*t.shape[1]],[4],3),255)}return e}function c(t){var e=o();return e.emit("error",t),e}t.exports=function(t,n,i){switch(i=i||{},n.toUpperCase()){case"JPG":case".JPG":case"JPEG":case".JPEG":case"JPE":case".JPE":var s=t.shape[0],o=t.shape[1];return{data:d=u(t,d=new e(s*o*4)),width:s,height:o};case"GIF":case".GIF":var l=4===t.shape.length?t.shape[0]:1,d=(s=4===t.shape.length?t.shape[1]:t.shape[0],o=4===t.shape.length?t.shape[2]:t.shape[1],new e(s*o*4)),h=new r(s,o);h.writeHeader();for(var p=0;p<l;p++)d=u(t,d,p),h.addFrame(d);return h.finish(),h;case"PNG":case".PNG":var f=new a({width:t.shape[0],height:t.shape[1]});return"Error"==typeof(d=u(t,f.data))?c(d):(f.data=d,f.pack());case"CANVAS":var m=document.createElement("canvas"),b=m.getContext("2d");m.width=t.shape[0],m.height=t.shape[1];var g=b.getImageData(0,0,m.width,m.height);return"Error"==typeof(d=u(t,d=g.data))?c(d):(b.putImageData(g,0,0),m);default:return c(new Error("Unsupported file type: "+n))}}}).call(this,n(29).Buffer)},function(t,e,n){(function(e){n(198),n(108).EventEmitter;var r=n(369),a=n(85),i=n(373),s=n(374);function o(t){r.call(this,t),this.okayToPush=!0,this.resetData()}function u(t,e,n){var r=(n=n||{}).highWaterMark;o.call(this,{highWaterMark:r||0===r?r:65536}),this.width=~~t,this.height=~~e,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.usedEntry=[],this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10;var a=this;function i(){a.flushData()}this.on("writeHeader#stop",i),this.on("frame#stop",i),this.on("finish#stop",(function(){i(),a.push(null)}))}a.inherits(o,r),o.prototype._read=function(){this.okayToPush=!0},o.prototype.resetData=function(){this.data=[]},o.prototype.flushData=function(){if(!this.okayToPush){var t=new Error("GIF memory limit exceeded. Please `read` from GIF before writing additional frames/information.");return this.emit("error",t)}var n=new e(this.data);this.resetData(),this.okayToPush=this.push(n)},o.prototype.writeByte=function(t){this.data.push(t)},o.prototype.writeUTFBytes=function(t){for(var e=t.length,n=0;n<e;n++)this.writeByte(t.charCodeAt(n))},o.prototype.writeBytes=function(t,e,n){for(var r=n||t.length,a=e||0;a<r;a++)this.writeByte(t[a])},a.inherits(u,o),u.prototype.setDelay=function(t){this.delay=Math.round(t/10)},u.prototype.setFrameRate=function(t){this.delay=Math.round(100/t)},u.prototype.setDispose=function(t){t>=0&&(this.dispose=t)},u.prototype.setRepeat=function(t){this.repeat=t},u.prototype.setTransparent=function(t){this.transparent=t},u.prototype.analyzeImage=function(t){this.setImagePixels(this.removeAlphaChannel(t)),this.analyzePixels()},u.prototype.writeImageInfo=function(){this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.writePalette(),this.firstFrame=!1},u.prototype.outputImage=function(){this.writePixels()},u.prototype.addFrame=function(t){this.emit("frame#start"),this.analyzeImage(t),this.writeImageInfo(),this.outputImage(),this.emit("frame#stop")},u.prototype.finish=function(){this.emit("finish#start"),this.writeByte(59),this.emit("finish#stop")},u.prototype.setQuality=function(t){t<1&&(t=1),this.sample=t},u.prototype.writeHeader=function(){this.emit("writeHeader#start"),this.writeUTFBytes("GIF89a"),this.emit("writeHeader#stop")},u.prototype.analyzePixels=function(){var t=this.pixels.length/3;this.indexedPixels=new Uint8Array(t);var e=new i(this.pixels,this.sample);e.buildColormap(),this.colorTab=e.getColormap();for(var n=0,r=0;r<t;r++){var a=e.lookupRGB(255&this.pixels[n++],255&this.pixels[n++],255&this.pixels[n++]);this.usedEntry[a]=!0,this.indexedPixels[r]=a}this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent))},u.prototype.findClosest=function(t){if(null===this.colorTab)return-1;for(var e=(16711680&t)>>16,n=(65280&t)>>8,r=255&t,a=0,i=16777216,s=this.colorTab.length,o=0;o<s;){var u=e-(255&this.colorTab[o++]),c=n-(255&this.colorTab[o++]),l=r-(255&this.colorTab[o]),d=u*u+c*c+l*l,h=o/3;this.usedEntry[h]&&d<i&&(i=d,a=h),o++}return a},u.prototype.removeAlphaChannel=function(t){for(var e=this.width,n=this.height,r=new Uint8Array(e*n*3),a=0,i=0;i<n;i++)for(var s=0;s<e;s++){var o=i*e*4+4*s;r[a++]=t[o],r[a++]=t[o+1],r[a++]=t[o+2]}return r},u.prototype.setImagePixels=function(t){this.pixels=t},u.prototype.writeGraphicCtrlExt=function(){var t,e;this.writeByte(33),this.writeByte(249),this.writeByte(4),null===this.transparent?(t=0,e=0):(t=1,e=2),this.dispose>=0&&(e=7&dispose),e<<=2,this.writeByte(0|e|t),this.writeShort(this.delay),this.writeByte(this.transIndex),this.writeByte(0)},u.prototype.writeImageDesc=function(){this.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame?this.writeByte(0):this.writeByte(128|this.palSize)},u.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.writeByte(240|this.palSize),this.writeByte(0),this.writeByte(0)},u.prototype.writeNetscapeExt=function(){this.writeByte(33),this.writeByte(255),this.writeByte(11),this.writeUTFBytes("NETSCAPE2.0"),this.writeByte(3),this.writeByte(1),this.writeShort(this.repeat),this.writeByte(0)},u.prototype.writePalette=function(){this.writeBytes(this.colorTab);for(var t=768-this.colorTab.length,e=0;e<t;e++)this.writeByte(0)},u.prototype.writeShort=function(t){this.writeByte(255&t),this.writeByte(t>>8&255)},u.prototype.writePixels=function(){new s(this.width,this.height,this.indexedPixels,this.colorDepth).encode(this)},u.prototype.stream=function(){return this},u.ByteCapacitor=o,t.exports=u}).call(this,n(29).Buffer)},function(t,e,n){"use strict";var r=n(350);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var a=Object.assign({},n),i="";for(var s in a)i+=s;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?r:Object.assign:r}},function(t,e,n){"use strict";var r=n(351),a=n(247)(),i=n(353),s=Object,o=i("Array.prototype.push"),u=i("Object.prototype.propertyIsEnumerable"),c=a?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(null==t)throw new TypeError("target must be an object");var n=s(t);if(1===arguments.length)return n;for(var i=1;i<arguments.length;++i){var l=s(arguments[i]),d=r(l),h=a&&(Object.getOwnPropertySymbols||c);if(h)for(var p=h(l),f=0;f<p.length;++f){var m=p[f];u(l,m)&&o(d,m)}for(var b=0;b<d.length;++b){var g=d[b];if(u(l,g)){var y=l[g];n[g]=y}}}return n}},function(t,e,n){"use strict";var r=Array.prototype.slice,a=n(246),i=Object.keys,s=i?function(t){return i(t)}:n(352),o=Object.keys;s.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return a(t)?o(r.call(t)):o(t)}):Object.keys=s;return Object.keys||s},t.exports=s},function(t,e,n){"use strict";var r;if(!Object.keys){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=n(246),o=Object.prototype.propertyIsEnumerable,u=!o.call({toString:null},"toString"),c=o.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&a.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{d(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=s(t),o=e&&"[object String]"===i.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(o&&t.length>0&&!a.call(t,0))for(var m=0;m<t.length;++m)h.push(String(m));if(r&&t.length>0)for(var b=0;b<t.length;++b)h.push(String(b));else for(var g in t)f&&"prototype"===g||!a.call(t,g)||h.push(String(g));if(u)for(var y=function(t){if("undefined"==typeof window||!p)return d(t);try{return d(t)}catch(t){return!1}}(t),v=0;v<l.length;++v)y&&"constructor"===l[v]||!a.call(t,l[v])||h.push(l[v]);return h}}t.exports=r},function(t,e,n){"use strict";var r=n(137),a=n(363),i=a(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?a(n):n}},function(t,e,n){"use strict";t.exports=Error},function(t,e,n){"use strict";t.exports=EvalError},function(t,e,n){"use strict";t.exports=RangeError},function(t,e,n){"use strict";t.exports=ReferenceError},function(t,e,n){"use strict";t.exports=URIError},function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,a=n(247);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&a())))}},function(t,e,n){"use strict";var r={__proto__:null,foo:{}},a=Object;t.exports=function(){return{__proto__:r}.foo===r.foo&&!(r instanceof a)}},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",a=Object.prototype.toString,i=Math.max,s=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var a=0;a<e.length;a+=1)n[a+t.length]=e[a];return n},o=function(t,e){for(var n=[],r=e||0,a=0;r<t.length;r+=1,a+=1)n[a]=t[r];return n},u=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==a.apply(e))throw new TypeError(r+e);for(var n,c=o(arguments,1),l=function(){if(this instanceof n){var r=e.apply(this,s(c,arguments));return Object(r)===r?r:this}return e.apply(t,s(c,arguments))},d=i(0,e.length-c.length),h=[],p=0;p<d;p++)h[p]="$"+p;if(n=Function("binder","return function ("+u(h,",")+"){ return binder.apply(this,arguments); }")(l),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n}},function(t,e,n){"use strict";var r=Function.prototype.call,a=Object.prototype.hasOwnProperty,i=n(199);t.exports=i.call(r,a)},function(t,e,n){"use strict";var r=n(199),a=n(137),i=n(364),s=n(146),o=a("%Function.prototype.apply%"),u=a("%Function.prototype.call%"),c=a("%Reflect.apply%",!0)||r.call(u,o),l=n(200),d=a("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new s("a function is required");var e=c(r,u,arguments);return i(e,1+d(0,t.length-(arguments.length-1)),!0)};var h=function(){return c(r,o,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h},function(t,e,n){"use strict";var r=n(137),a=n(365),i=n(366)(),s=n(249),o=n(146),u=r("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new o("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||u(e)!==e)throw new o("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in t&&s){var l=s(t,"length");l&&!l.configurable&&(r=!1),l&&!l.writable&&(c=!1)}return(r||c||!n)&&(i?a(t,"length",e,!0,!0):a(t,"length",e)),t}},function(t,e,n){"use strict";var r=n(200),a=n(248),i=n(146),s=n(249);t.exports=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new i("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],d=!!s&&s(t,e);if(r)r(t,e,{configurable:null===c&&d?d.configurable:!c,enumerable:null===o&&d?d.enumerable:!o,value:n,writable:null===u&&d?d.writable:!u});else{if(!l&&(o||u||c))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}}},function(t,e,n){"use strict";var r=n(200),a=function(){return!!r};a.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=a},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r){(e=t.exports=n(250)).Stream=n(82),e.Readable=e,e.Writable=n(251),e.Duplex=n(109),e.Transform=n(252),e.PassThrough=n(372),r.browser||"disable"!==r.env.READABLE_STREAM||(t.exports=n(82))}).call(this,n(38))},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){},function(t,e,n){t.exports=i;var r=n(252),a=n(74);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}a.inherits=n(70),a.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e){t.exports=function(t,e){var n,r,a,i,s;function o(t,e,r,a,i){n[e][0]-=t*(n[e][0]-r)/1024,n[e][1]-=t*(n[e][1]-a)/1024,n[e][2]-=t*(n[e][2]-i)/1024}function u(t,e,r,a,i){for(var o,u,c=Math.abs(e-t),l=Math.min(e+t,256),d=e+1,h=e-1,p=1;d<l||h>c;)u=s[p++],d<l&&((o=n[d++])[0]-=u*(o[0]-r)/(1<<18),o[1]-=u*(o[1]-a)/(1<<18),o[2]-=u*(o[2]-i)/(1<<18)),h>c&&((o=n[h--])[0]-=u*(o[0]-r)/(1<<18),o[1]-=u*(o[1]-a)/(1<<18),o[2]-=u*(o[2]-i)/(1<<18))}function c(t,e,r){var s,o,u,c,l,d=~(1<<31),h=d,p=-1,f=p;for(s=0;s<256;s++)o=n[s],(u=Math.abs(o[0]-t)+Math.abs(o[1]-e)+Math.abs(o[2]-r))<d&&(d=u,p=s),(c=u-(a[s]>>12))<h&&(h=c,f=s),l=i[s]>>10,i[s]-=l,a[s]+=l<<10;return i[p]+=64,a[p]-=65536,f}this.buildColormap=function(){!function(){var t,e;for(n=[],r=new Int32Array(256),a=new Int32Array(256),i=new Int32Array(256),s=new Int32Array(32),t=0;t<256;t++)e=(t<<12)/256,n[t]=new Float64Array([e,e,e,0]),i[t]=256,a[t]=0}(),function(){var n,r,a,i,l,d,h=t.length,p=30+(e-1)/3,f=h/(3*e),m=~~(f/100),b=1024,g=2048,y=g>>6;for(y<=1&&(y=0),n=0;n<y;n++)s[n]=b*(256*(y*y-n*n)/(y*y));h<1509?(e=1,r=3):r=h%499!=0?1497:h%491!=0?1473:h%487!=0?1461:1509;var v=0;for(n=0;n<f;)if(o(b,d=c(a=(255&t[v])<<4,i=(255&t[v+1])<<4,l=(255&t[v+2])<<4),a,i,l),0!==y&&u(y,d,a,i,l),(v+=r)>=h&&(v-=h),0===m&&(m=1),++n%m==0)for(b-=b/p,(y=(g-=g/30)>>6)<=1&&(y=0),d=0;d<y;d++)s[d]=b*(256*(y*y-d*d)/(y*y))}(),function(){for(var t=0;t<256;t++)n[t][0]>>=4,n[t][1]>>=4,n[t][2]>>=4,n[t][3]=t}(),function(){var t,e,a,i,s,o,u=0,c=0;for(t=0;t<256;t++){for(s=t,o=(a=n[t])[1],e=t+1;e<256;e++)(i=n[e])[1]<o&&(s=e,o=i[1]);if(i=n[s],t!=s&&(e=i[0],i[0]=a[0],a[0]=e,e=i[1],i[1]=a[1],a[1]=e,e=i[2],i[2]=a[2],a[2]=e,e=i[3],i[3]=a[3],a[3]=e),o!=u){for(r[u]=c+t>>1,e=u+1;e<o;e++)r[e]=t;u=o,c=t}}for(r[u]=c+255>>1,e=u+1;e<256;e++)r[e]=255}()},this.getColormap=function(){for(var t=[],e=[],r=0;r<256;r++)e[n[r][3]]=r;for(var a=0,i=0;i<256;i++){var s=e[i];t[a++]=n[s][0],t[a++]=n[s][1],t[a++]=n[s][2]}return t},this.lookupRGB=function(t,e,a){for(var i,s,o,u=1e3,c=-1,l=r[e],d=l-1;l<256||d>=0;)l<256&&((o=(s=n[l])[1]-e)>=u?l=256:(l++,o<0&&(o=-o),(i=s[0]-t)<0&&(i=-i),(o+=i)<u&&((i=s[2]-a)<0&&(i=-i),(o+=i)<u&&(u=o,c=s[3])))),d>=0&&((o=e-(s=n[d])[1])>=u?d=-1:(d--,o<0&&(o=-o),(i=s[0]-t)<0&&(i=-i),(o+=i)<u&&((i=s[2]-a)<0&&(i=-i),(o+=i)<u&&(u=o,c=s[3]))));return c}}},function(t,e){var n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];t.exports=function(t,e,r,a){var i,s,o,u,c,l,d=Math.max(2,a),h=new Uint8Array(256),p=new Int32Array(5003),f=new Int32Array(5003),m=0,b=0,g=!1;function y(t,e){h[s++]=t,s>=254&&x(e)}function v(t){w(5003),b=c+2,g=!0,I(c,t)}function w(t){for(var e=0;e<t;++e)p[e]=-1}function x(t){s>0&&(t.writeByte(s),t.writeBytes(h,0,s),s=0)}function O(t){return(1<<t)-1}function k(){return 0===remaining?-1:(--remaining,255&r[curPixel++])}function I(t,e){for(i&=n[m],m>0?i|=t<<m:i=t,m+=n_bits;m>=8;)y(255&i,e),i>>=8,m-=8;if((b>o||g)&&(g?(o=O(n_bits=u),g=!1):(++n_bits,o=12==n_bits?4096:O(n_bits))),t==l){for(;m>0;)y(255&i,e),i>>=8,m-=8;x(e)}}this.encode=function(n){n.writeByte(d),remaining=t*e,curPixel=0,function(t,e){var n,r,a,i,d,h;for(u=t,g=!1,n_bits=u,o=O(n_bits),l=(c=1<<t-1)+1,b=c+2,s=0,i=k(),h=0,n=5003;n<65536;n*=2)++h;h=8-h,w(5003),I(c,e);t:for(;-1!=(r=k());)if(n=(r<<12)+i,p[a=r<<h^i]!==n){if(p[a]>=0){d=5003-a,0===a&&(d=1);do{if((a-=d)<0&&(a+=5003),p[a]===n){i=f[a];continue t}}while(p[a]>=0)}I(i,e),i=r,b<4096?(f[a]=b++,p[a]=n):v(e)}else i=f[a];I(i,e),I(l,e)}(d+1,n),n.writeByte(0)}}},function(t,e,n){"use strict";(function(t,r){var a=n(85),i=n(82),s=n(376),o=n(387),u=n(390),c=e.PNG=function(e){i.call(this),e=e||{},this.width=e.width||0,this.height=e.height||0,this.data=this.width>0&&this.height>0?new t(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new s(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new o(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};a.inherits(c,i),c.sync=u,c.prototype.pack=function(){return this.data&&this.data.length?(r.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},c.prototype.parse=function(t,e){var n,r;e&&(n=function(t){this.removeListener("error",r),this.data=t,e(null,this)}.bind(this),r=function(t){this.removeListener("parsed",n),e(t,null)}.bind(this),this.once("parsed",n),this.once("error",r));return this.end(t),this},c.prototype.write=function(t){return this._parser.write(t),!0},c.prototype.end=function(t){this._parser.end(t)},c.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},c.prototype._gamma=function(t){this.gamma=t},c.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},c.bitblt=function(t,e,n,r,a,i,s,o){if(n>t.width||r>t.height||n+a>t.width||r+i>t.height)throw new Error("bitblt reading outside image");if(s>e.width||o>e.height||s+a>e.width||o+i>e.height)throw new Error("bitblt writing outside image");for(var u=0;u<i;u++)t.data.copy(e.data,(o+u)*e.width+s<<2,(r+u)*t.width+n<<2,(r+u)*t.width+n+a<<2)},c.prototype.bitblt=function(t,e,n,r,a,i,s){return c.bitblt(this,t,e,n,r,a,i,s),this},c.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var n=0;n<t.width;n++)for(var r=t.width*e+n<<2,a=0;a<3;a++){var i=t.data[r+a]/255;i=Math.pow(i,1/2.2/t.gamma),t.data[r+a]=Math.round(255*i)}t.gamma=0}},c.prototype.adjustGamma=function(){c.adjustGamma(this)}}).call(this,n(29).Buffer,n(38))},function(t,e,n){"use strict";var r=n(85),a=n(147),i=n(255),s=n(386),o=n(259),u=n(261),c=n(262),l=t.exports=function(t){i.call(this),this._parser=new o(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};r.inherits(l,i),l.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this.errord=!0},l.prototype._inflateData=function(t){this._inflate||(this._inflate=a.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter)),this._inflate.write(t)},l.prototype._handleMetaData=function(t){this.emit("metadata",t),this._bitmapInfo=Object.create(t),this._filter=new s(this._bitmapInfo)},l.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},l.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},l.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},l.prototype._complete=function(t){if(!this.errord){try{var e=u.dataToBitMap(t,this._bitmapInfo),n=c(e,this._bitmapInfo);e=null}catch(t){return void this._handleError(t)}this.emit("parsed",n)}}},function(t,e,n){"use strict";(function(t,r){var a=n(198),i=n(378),s=n(379),o=n(382),u=n(385);for(var c in u)e[c]=u[c];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;function l(t){if("number"!=typeof t||t<e.DEFLATE||t>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==e.INFLATE&&this.mode!==e.GUNZIP&&this.mode!==e.INFLATERAW&&this.mode!==e.UNZIP||o.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null)},l.prototype.write=function(t,e,n,r,a,i,s){return this._write(!0,t,e,n,r,a,i,s)},l.prototype.writeSync=function(t,e,n,r,a,i,s){return this._write(!1,t,e,n,r,a,i,s)},l.prototype._write=function(n,i,s,o,u,c,l,d){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==e.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==e.Z_NO_FLUSH&&i!==e.Z_PARTIAL_FLUSH&&i!==e.Z_SYNC_FLUSH&&i!==e.Z_FULL_FLUSH&&i!==e.Z_FINISH&&i!==e.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=t.alloc(0),u=0,o=0),this.strm.avail_in=u,this.strm.input=s,this.strm.next_in=o,this.strm.avail_out=d,this.strm.output=c,this.strm.next_out=l,this.flush=i,!n)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return r.nextTick((function(){h._process(),h._after()})),this},l.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},l.prototype._process=function(){var t=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=e.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=o.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},l.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(t,n,r,i,s){a(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(t>=8&&t<=15,"invalid windowBits"),a(n>=-1&&n<=9,"invalid compression level"),a(r>=1&&r<=9,"invalid memlevel"),a(i===e.Z_FILTERED||i===e.Z_HUFFMAN_ONLY||i===e.Z_RLE||i===e.Z_FIXED||i===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,t,r,i,s),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(t,n,r,a,u){switch(this.level=t,this.windowBits=n,this.memLevel=r,this.strategy=a,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,this.mode!==e.GZIP&&this.mode!==e.GUNZIP||(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),this.mode!==e.DEFLATERAW&&this.mode!==e.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new i,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=s.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=o.inflateReset(this.strm)}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=l}).call(this,n(29).Buffer,n(38))},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";var r,a=n(148),i=n(380),s=n(253),o=n(254),u=n(381);function c(t,e){return t.msg=u[e],e}function l(t){return(t<<1)-(t>4?9:0)}function d(t){for(var e=t.length;--e>=0;)t[e]=0}function h(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(a.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function p(t,e){i._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,h(t.strm)}function f(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function b(t,e){var n,r,a=t.max_chain_length,i=t.strstart,s=t.prev_length,o=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,l=t.w_mask,d=t.prev,h=t.strstart+258,p=c[i+s-1],f=c[i+s];t.prev_length>=t.good_match&&(a>>=2),o>t.lookahead&&(o=t.lookahead);do{if(c[(n=e)+s]===f&&c[n+s-1]===p&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=258-(h-i),i=h-258,r>s){if(t.match_start=e,s=r,r>=o)break;p=c[i+s-1],f=c[i+s]}}}while((e=d[e&l])>u&&0!=--a);return s<=t.lookahead?s:t.lookahead}function g(t){var e,n,r,i,u,c,l,d,h,p,f=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-262)){a.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=f?r-f:0}while(--n);e=n=f;do{r=t.prev[--e],t.prev[e]=r>=f?r-f:0}while(--n);i+=f}if(0===t.strm.avail_in)break;if(c=t.strm,l=t.window,d=t.strstart+t.lookahead,h=i,p=void 0,(p=c.avail_in)>h&&(p=h),n=0===p?0:(c.avail_in-=p,a.arraySet(l,c.input,c.next_in,p,d),1===c.state.wrap?c.adler=s(c.adler,l,p,d):2===c.state.wrap&&(c.adler=o(c.adler,l,p,d)),c.next_in+=p,c.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function y(t,e){for(var n,r;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=b(t,n)),t.match_length>=3)if(r=i._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function v(t,e){for(var n,r,a;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=b(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-3,r=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(p(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=i._tr_tally(t,0,t.window[t.strstart-1]))&&p(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function w(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(1146),this.dyn_dtree=new a.Buf16(122),this.bl_tree=new a.Buf16(78),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(16),this.heap=new a.Buf16(573),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(573),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,i._tr_init(e),0):c(t,-2)}function k(t){var e,n=O(t);return 0===n&&((e=t.state).window_size=2*e.w_size,d(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function I(t,e,n,r,i,s){if(!t)return-2;var o=1;if(-1===e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||8!==n||r<8||r>15||e<0||e>9||s<0||s>4)return c(t,-2);8===r&&(r=9);var u=new x;return t.state=u,u.strm=t,u.wrap=o,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new a.Buf8(2*u.w_size),u.head=new a.Buf16(u.hash_size),u.prev=new a.Buf16(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new a.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=n,k(t)}r=[new w(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(g(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,p(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(p(t,!1),t.strm.avail_out),1)})),new w(4,4,8,4,y),new w(4,5,16,8,y),new w(4,6,32,32,y),new w(4,4,16,16,v),new w(8,16,32,32,v),new w(8,16,128,128,v),new w(8,32,128,256,v),new w(32,128,258,1024,v),new w(32,258,258,4096,v)],e.deflateInit=function(t,e){return I(t,e,8,15,8,0)},e.deflateInit2=I,e.deflateReset=k,e.deflateResetKeep=O,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,a,s,u;if(!t||!t.state||e>5||e<0)return t?c(t,-2):-2;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||666===a.status&&4!==e)return c(t,0===t.avail_out?-5:-2);if(a.strm=t,n=a.last_flush,a.last_flush=e,42===a.status)if(2===a.wrap)t.adler=0,f(a,31),f(a,139),f(a,8),a.gzhead?(f(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),f(a,255&a.gzhead.time),f(a,a.gzhead.time>>8&255),f(a,a.gzhead.time>>16&255),f(a,a.gzhead.time>>24&255),f(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),f(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(f(a,255&a.gzhead.extra.length),f(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=o(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(f(a,0),f(a,0),f(a,0),f(a,0),f(a,0),f(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),f(a,3),a.status=113);else{var b=8+(a.w_bits-8<<4)<<8;b|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(b|=32),b+=31-b%31,a.status=113,m(a,b),0!==a.strstart&&(m(a,t.adler>>>16),m(a,65535&t.adler)),t.adler=1}if(69===a.status)if(a.gzhead.extra){for(s=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),h(t),s=a.pending,a.pending!==a.pending_buf_size));)f(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),h(t),s=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,f(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),0===u&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),h(t),s=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,f(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),0===u&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&h(t),a.pending+2<=a.pending_buf_size&&(f(a,255&t.adler),f(a,t.adler>>8&255),t.adler=0,a.status=113)):a.status=113),0!==a.pending){if(h(t),0===t.avail_out)return a.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return c(t,-5);if(666===a.status&&0!==t.avail_in)return c(t,-5);if(0!==t.avail_in||0!==a.lookahead||0!==e&&666!==a.status){var y=2===a.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(g(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(a,e):3===a.strategy?function(t,e){for(var n,r,a,s,o=t.window;;){if(t.lookahead<=258){if(g(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[a=t.strstart-1])===o[++a]&&r===o[++a]&&r===o[++a]){s=t.strstart+258;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<s);t.match_length=258-(s-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=i._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(a,e):r[a.level].func(a,e);if(3!==y&&4!==y||(a.status=666),1===y||3===y)return 0===t.avail_out&&(a.last_flush=-1),0;if(2===y&&(1===e?i._tr_align(a):5!==e&&(i._tr_stored_block(a,0,0,!1),3===e&&(d(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),h(t),0===t.avail_out))return a.last_flush=-1,0}return 4!==e?0:a.wrap<=0?1:(2===a.wrap?(f(a,255&t.adler),f(a,t.adler>>8&255),f(a,t.adler>>16&255),f(a,t.adler>>24&255),f(a,255&t.total_in),f(a,t.total_in>>8&255),f(a,t.total_in>>16&255),f(a,t.total_in>>24&255)):(m(a,t.adler>>>16),m(a,65535&t.adler)),h(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?c(t,-2):(t.state=null,113===e?c(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,r,i,o,u,c,l,h,p=e.length;if(!t||!t.state)return-2;if(2===(o=(n=t.state).wrap)||1===o&&42!==n.status||n.lookahead)return-2;for(1===o&&(t.adler=s(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===o&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new a.Buf8(n.w_size),a.arraySet(h,e,p-n.w_size,n.w_size,0),e=h,p=n.w_size),u=t.avail_in,c=t.next_in,l=t.input,t.avail_in=p,t.next_in=0,t.input=e,g(n);n.lookahead>=3;){r=n.strstart,i=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=l,t.avail_in=u,n.wrap=o,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(148);function a(t){for(var e=t.length;--e>=0;)t[e]=0}var i=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);a(c);var l=new Array(60);a(l);var d=new Array(512);a(d);var h=new Array(256);a(h);var p=new Array(29);a(p);var f,m,b,g=new Array(30);function y(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?d[t]:d[256+(t>>>7)]}function x(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function O(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function k(t,e,n){O(t,n[2*e],n[2*e+1])}function I(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function S(t,e,n){var r,a,i=new Array(16),s=0;for(r=1;r<=15;r++)i[r]=s=s+n[r-1]<<1;for(a=0;a<=e;a++){var o=t[2*a+1];0!==o&&(t[2*a]=I(i[o]++,o))}}function j(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function _(t){t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function N(t,e,n,r){var a=2*e,i=2*n;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]}function T(t,e,n){for(var r=t.heap[n],a=n<<1;a<=t.heap_len&&(a<t.heap_len&&N(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!N(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r}function E(t,e,n){var r,a,o,u,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],a=t.pending_buf[t.l_buf+c],c++,0===r?k(t,a,e):(k(t,(o=h[a])+256+1,e),0!==(u=i[o])&&O(t,a-=p[o],u),k(t,o=w(--r),n),0!==(u=s[o])&&O(t,r-=g[o],u))}while(c<t.last_lit);k(t,256,e)}function C(t,e){var n,r,a,i=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==i[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(a=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[a]=0,t.opt_len--,o&&(t.static_len-=s[2*a+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)T(t,i,n);a=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],T(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*a]=i[2*n]+i[2*r],t.depth[a]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=a,t.heap[1]=a++,T(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,a,i,s,o,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,m=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(i=u[2*u[2*(r=t.heap[n])+1]+1]+1)>f&&(i=f,m++),u[2*r+1]=i,r>c||(t.bl_count[i]++,s=0,r>=p&&(s=h[r-p]),o=u[2*r],t.opt_len+=o*(i+s),d&&(t.static_len+=o*(l[2*r+1]+s)));if(0!==m){do{for(i=f-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[f]--,m-=2}while(m>0);for(i=f;0!==i;i--)for(r=t.bl_count[i];0!==r;)(a=t.heap[--n])>c||(u[2*a+1]!==i&&(t.opt_len+=(i-u[2*a+1])*u[2*a],u[2*a+1]=i),r--)}}(t,e),S(i,c,t.bl_count)}function A(t,e,n){var r,a,i=-1,s=e[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)a=s,s=e[2*(r+1)+1],++o<u&&a===s||(o<c?t.bl_tree[2*a]+=o:0!==a?(a!==i&&t.bl_tree[2*a]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,i=a,0===s?(u=138,c=3):a===s?(u=6,c=3):(u=7,c=4))}function R(t,e,n){var r,a,i=-1,s=e[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),r=0;r<=n;r++)if(a=s,s=e[2*(r+1)+1],!(++o<u&&a===s)){if(o<c)do{k(t,a,t.bl_tree)}while(0!=--o);else 0!==a?(a!==i&&(k(t,a,t.bl_tree),o--),k(t,16,t.bl_tree),O(t,o-3,2)):o<=10?(k(t,17,t.bl_tree),O(t,o-3,3)):(k(t,18,t.bl_tree),O(t,o-11,7));o=0,i=a,0===s?(u=138,c=3):a===s?(u=6,c=3):(u=7,c=4)}}a(g);var $=!1;function F(t,e,n,a){O(t,0+(a?1:0),3),function(t,e,n,a){_(t),a&&(x(t,n),x(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){$||(!function(){var t,e,n,r,a,u=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,t=0;t<1<<i[r];t++)h[n++]=r;for(h[n-1]=r,a=0,r=0;r<16;r++)for(g[r]=a,t=0;t<1<<s[r];t++)d[a++]=r;for(a>>=7;r<30;r++)for(g[r]=a<<7,t=0;t<1<<s[r]-7;t++)d[256+a++]=r;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(S(c,287,u),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=I(t,5);f=new y(c,i,257,286,15),m=new y(l,s,0,30,15),b=new y(new Array(0),o,0,19,7)}(),$=!0),t.l_desc=new v(t.dyn_ltree,f),t.d_desc=new v(t.dyn_dtree,m),t.bl_desc=new v(t.bl_tree,b),t.bi_buf=0,t.bi_valid=0,j(t)},e._tr_stored_block=F,e._tr_flush_block=function(t,e,n,r){var a,i,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),C(t,t.l_desc),C(t,t.d_desc),s=function(t){var e;for(A(t,t.dyn_ltree,t.l_desc.max_code),A(t,t.dyn_dtree,t.d_desc.max_code),C(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),a=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==e?F(t,e,n,r):4===t.strategy||i===a?(O(t,2+(r?1:0),3),E(t,c,l)):(O(t,4+(r?1:0),3),function(t,e,n,r){var a;for(O(t,e-257,5),O(t,n-1,5),O(t,r-4,4),a=0;a<r;a++)O(t,t.bl_tree[2*u[a]+1],3);R(t,t.dyn_ltree,e-1),R(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),E(t,t.dyn_ltree,t.dyn_dtree)),j(t),r&&_(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(h[n]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){O(t,2,3),k(t,256,c),function(t){16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";var r=n(148),a=n(253),i=n(254),s=n(383),o=n(384);function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,l(t)):-2}function h(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,d(t))):-2}function p(t,e){var n,r;return t?(r=new c,t.state=r,r.window=null,0!==(n=h(t,e))&&(t.state=null),n):-2}var f,m,b=!0;function g(t){if(b){var e;for(f=new r.Buf32(512),m=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,f,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,m,0,t.work,{bits:5}),b=!1}t.lencode=f,t.lenbits=9,t.distcode=m,t.distbits=5}function y(t,e,n,a){var i,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),a>=s.wsize?(r.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>a&&(i=a),r.arraySet(s.window,e,n-a,i,s.wnext),(a-=i)?(r.arraySet(s.window,e,n-a,a,0),s.wnext=a,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}e.inflateReset=d,e.inflateReset2=h,e.inflateResetKeep=l,e.inflateInit=function(t){return p(t,15)},e.inflateInit2=p,e.inflate=function(t,e){var n,c,l,d,h,p,f,m,b,v,w,x,O,k,I,S,j,_,N,T,E,C,A,R,$=0,F=new r.Buf8(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),h=t.next_out,l=t.output,f=t.avail_out,d=t.next_in,c=t.input,p=t.avail_in,m=n.hold,b=n.bits,v=p,w=f,C=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(2&n.wrap&&35615===m){n.check=0,F[0]=255&m,F[1]=m>>>8&255,n.check=i(n.check,F,2,0),m=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(b-=4,E=8+(15&(m>>>=4)),0===n.wbits)n.wbits=E;else if(E>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<E,t.adler=n.check=1,n.mode=512&m?10:12,m=0,b=0;break;case 2:for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=i(n.check,F,2,0)),m=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.head&&(n.head.time=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,F[2]=m>>>16&255,F[3]=m>>>24&255,n.check=i(n.check,F,4,0)),m=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=i(n.check,F,2,0)),m=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=i(n.check,F,2,0)),m=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>p&&(x=p),x&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,d,x,E)),512&n.flags&&(n.check=i(n.check,c,x,d)),p-=x,d+=x,n.length-=x),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break t;x=0;do{E=c[d+x++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&x<p);if(512&n.flags&&(n.check=i(n.check,c,x,d)),p-=x,d+=x,E)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break t;x=0;do{E=c[d+x++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&x<p);if(512&n.flags&&(n.check=i(n.check,c,x,d)),p-=x,d+=x,E)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}m=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}t.adler=n.check=u(m),m=0,b=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=h,t.avail_out=f,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=b,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}switch(n.last=1&m,b-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(g(n),n.mode=20,6===e){m>>>=2,b-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,b-=2;break;case 14:for(m>>>=7&b,b-=7&b;b<32;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,b=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(x=n.length){if(x>p&&(x=p),x>f&&(x=f),0===x)break t;r.arraySet(l,c,d,x,h),p-=x,d+=x,f-=x,h+=x,n.length-=x;break}n.mode=12;break;case 17:for(;b<14;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(n.nlen=257+(31&m),m>>>=5,b-=5,n.ndist=1+(31&m),m>>>=5,b-=5,n.ncode=4+(15&m),m>>>=4,b-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.lens[D[n.have++]]=7&m,m>>>=3,b-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},C=o(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,C){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=($=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,j=65535&$,!((I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(j<16)m>>>=I,b-=I,n.lens[n.have++]=j;else{if(16===j){for(R=I+2;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(m>>>=I,b-=I,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}E=n.lens[n.have-1],x=3+(3&m),m>>>=2,b-=2}else if(17===j){for(R=I+3;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}b-=I,E=0,x=3+(7&(m>>>=I)),m>>>=3,b-=3}else{for(R=I+7;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}b-=I,E=0,x=11+(127&(m>>>=I)),m>>>=7,b-=7}if(n.have+x>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=E}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,A={bits:n.lenbits},C=o(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,C){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},C=o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,C){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(p>=6&&f>=258){t.next_out=h,t.avail_out=f,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=b,s(t,w),h=t.next_out,l=t.output,f=t.avail_out,d=t.next_in,c=t.input,p=t.avail_in,m=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=($=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,j=65535&$,!((I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(S&&0==(240&S)){for(_=I,N=S,T=j;S=($=n.lencode[T+((m&(1<<_+N)-1)>>_)])>>>16&255,j=65535&$,!(_+(I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}m>>>=_,b-=_,n.back+=_}if(m>>>=I,b-=I,n.back+=I,n.length=j,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(R=n.extra;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=($=n.distcode[m&(1<<n.distbits)-1])>>>16&255,j=65535&$,!((I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(0==(240&S)){for(_=I,N=S,T=j;S=($=n.distcode[T+((m&(1<<_+N)-1)>>_)])>>>16&255,j=65535&$,!(_+(I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}m>>>=_,b-=_,n.back+=_}if(m>>>=I,b-=I,n.back+=I,64&S){t.msg="invalid distance code",n.mode=30;break}n.offset=j,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(R=n.extra;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===f)break t;if(x=w-f,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}x>n.wnext?(x-=n.wnext,O=n.wsize-x):O=n.wnext-x,x>n.length&&(x=n.length),k=n.window}else k=l,O=h-n.offset,x=n.length;x>f&&(x=f),f-=x,n.length-=x;do{l[h++]=k[O++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===f)break t;l[h++]=n.length,f--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===p)break t;p--,m|=c[d++]<<b,b+=8}if(w-=f,t.total_out+=w,n.total+=w,w&&(t.adler=n.check=n.flags?i(n.check,l,w,h-w):a(n.check,l,w,h-w)),w=f,(n.flags?m:u(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}m=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}m=0,b=0}n.mode=29;case 29:C=1;break t;case 30:C=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=h,t.avail_out=f,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=b,(n.wsize||w!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&y(t,t.output,t.next_out,w-t.avail_out)?(n.mode=31,-4):(v-=t.avail_in,w-=t.avail_out,t.total_in+=v,t.total_out+=w,n.total+=w,n.wrap&&w&&(t.adler=n.check=n.flags?i(n.check,l,w,t.next_out-w):a(n.check,l,w,t.next_out-w)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===v&&0===w||4===e)&&0===C&&(C=-5),C)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&a(1,e,r,0)!==n.check?-3:y(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,a,i,s,o,u,c,l,d,h,p,f,m,b,g,y,v,w,x,O,k,I,S,j;n=t.state,r=t.next_in,S=t.input,a=r+(t.avail_in-5),i=t.next_out,j=t.output,s=i-(e-t.avail_out),o=i+(t.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,d=n.wnext,h=n.window,p=n.hold,f=n.bits,m=n.lencode,b=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{f<15&&(p+=S[r++]<<f,f+=8,p+=S[r++]<<f,f+=8),v=m[p&g];e:for(;;){if(p>>>=w=v>>>24,f-=w,0===(w=v>>>16&255))j[i++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=m[(65535&v)+(p&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&v,(w&=15)&&(f<w&&(p+=S[r++]<<f,f+=8),x+=p&(1<<w)-1,p>>>=w,f-=w),f<15&&(p+=S[r++]<<f,f+=8,p+=S[r++]<<f,f+=8),v=b[p&y];n:for(;;){if(p>>>=w=v>>>24,f-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=b[(65535&v)+(p&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(O=65535&v,f<(w&=15)&&(p+=S[r++]<<f,(f+=8)<w&&(p+=S[r++]<<f,f+=8)),(O+=p&(1<<w)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=w,f-=w,O>(w=i-s)){if((w=O-w)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,I=h,0===d){if(k+=c-w,w<x){x-=w;do{j[i++]=h[k++]}while(--w);k=i-O,I=j}}else if(d<w){if(k+=c+d-w,(w-=d)<x){x-=w;do{j[i++]=h[k++]}while(--w);if(k=0,d<x){x-=w=d;do{j[i++]=h[k++]}while(--w);k=i-O,I=j}}}else if(k+=d-w,w<x){x-=w;do{j[i++]=h[k++]}while(--w);k=i-O,I=j}for(;x>2;)j[i++]=I[k++],j[i++]=I[k++],j[i++]=I[k++],x-=3;x&&(j[i++]=I[k++],x>1&&(j[i++]=I[k++]))}else{k=i-O;do{j[i++]=j[k++],j[i++]=j[k++],j[i++]=j[k++],x-=3}while(x>2);x&&(j[i++]=j[k++],x>1&&(j[i++]=j[k++]))}break}}break}}while(r<a&&i<o);r-=x=f>>3,p&=(1<<(f-=x<<3))-1,t.next_in=r,t.next_out=i,t.avail_in=r<a?a-r+5:5-(r-a),t.avail_out=i<o?o-i+257:257-(i-o),n.hold=p,n.bits=f}},function(t,e,n){"use strict";var r=n(148),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,c,l,d,h){var p,f,m,b,g,y,v,w,x,O=h.bits,k=0,I=0,S=0,j=0,_=0,N=0,T=0,E=0,C=0,A=0,R=null,$=0,F=new r.Buf16(16),D=new r.Buf16(16),M=null,L=0;for(k=0;k<=15;k++)F[k]=0;for(I=0;I<u;I++)F[e[n+I]]++;for(_=O,j=15;j>=1&&0===F[j];j--);if(_>j&&(_=j),0===j)return c[l++]=20971520,c[l++]=20971520,h.bits=1,0;for(S=1;S<j&&0===F[S];S++);for(_<S&&(_=S),E=1,k=1;k<=15;k++)if(E<<=1,(E-=F[k])<0)return-1;if(E>0&&(0===t||1!==j))return-1;for(D[1]=0,k=1;k<15;k++)D[k+1]=D[k]+F[k];for(I=0;I<u;I++)0!==e[n+I]&&(d[D[e[n+I]]++]=I);if(0===t?(R=M=d,y=19):1===t?(R=a,$-=257,M=i,L-=257,y=256):(R=s,M=o,y=-1),A=0,I=0,k=S,g=l,N=_,T=0,m=-1,b=(C=1<<_)-1,1===t&&C>852||2===t&&C>592)return 1;for(;;){v=k-T,d[I]<y?(w=0,x=d[I]):d[I]>y?(w=M[L+d[I]],x=R[$+d[I]]):(w=96,x=0),p=1<<k-T,S=f=1<<N;do{c[g+(A>>T)+(f-=p)]=v<<24|w<<16|x|0}while(0!==f);for(p=1<<k-1;A&p;)p>>=1;if(0!==p?(A&=p-1,A+=p):A=0,I++,0==--F[k]){if(k===j)break;k=e[n+d[I]]}if(k>_&&(A&b)!==m){for(0===T&&(T=_),g+=S,E=1<<(N=k-T);N+T<j&&!((E-=F[N+T])<=0);)N++,E<<=1;if(C+=1<<N,1===t&&C>852||2===t&&C>592)return 1;c[m=A&b]=_<<24|N<<16|g-l|0}}return 0!==A&&(c[g+A]=k-T<<24|64<<16|0),h.bits=_,0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";(function(e){var r=n(85),a=n(255),i=n(256),s=t.exports=function(t){a.call(this);var n=[],r=this;this._filter=new i(t,{read:this.read.bind(this),write:function(t){n.push(t)},complete:function(){r.emit("complete",e.concat(n))}}),this._filter.start()};r.inherits(s,a)}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(85),a=n(82),i=n(138),s=n(263),o=t.exports=function(t){a.call(this);var e=t||{};this._packer=new s(e),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(o,a),o.prototype.pack=function(t,n,r,a){this.emit("data",new e(i.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(n,r)),a&&this.emit("data",this._packer.packGAMA(a));var s=this._packer.filterData(t,n,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(t){this.emit("data",this._packer.packIDAT(t))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(s)}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(138);t.exports=function(t,n,a,i){var s=i.colorType===r.COLORTYPE_COLOR_ALPHA;if(i.inputHasAlpha&&s)return t;if(!i.inputHasAlpha&&!s)return t;var o=s?4:3,u=new e(n*a*o),c=i.inputHasAlpha?4:3,l=0,d=0,h=i.bgColor||{};void 0===h.red&&(h.red=255),void 0===h.green&&(h.green=255),void 0===h.blue&&(h.blue=255);for(var p=0;p<a;p++)for(var f=0;f<n;f++){var m,b=t[l],g=t[l+1],y=t[l+2];i.inputHasAlpha?(m=t[l+3],s||(m/=255,b=Math.min(Math.max(Math.round((1-m)*h.red+m*b),0),255),g=Math.min(Math.max(Math.round((1-m)*h.green+m*g),0),255),y=Math.min(Math.max(Math.round((1-m)*h.blue+m*y),0),255))):m=255,u[d]=b,u[d+1]=g,u[d+2]=y,s&&(u[d+3]=m),l+=c,d+=o}return u}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(258);var a={0:function(t,e,n,r,a){t.copy(r,a,e,e+n)},1:function(t,e,n,r,a,i){for(var s=0;s<n;s++){var o=s>=i?t[e+s-i]:0,u=t[e+s]-o;r[a+s]=u}},2:function(t,e,n,r,a){for(var i=0;i<n;i++){var s=e>0?t[e+i-n]:0,o=t[e+i]-s;r[a+i]=o}},3:function(t,e,n,r,a,i){for(var s=0;s<n;s++){var o=s>=i?t[e+s-i]:0,u=e>0?t[e+s-n]:0,c=t[e+s]-(o+u>>1);r[a+s]=c}},4:function(t,e,n,a,i,s){for(var o=0;o<n;o++){var u=o>=s?t[e+o-s]:0,c=e>0?t[e+o-n]:0,l=e>0&&o>=s?t[e+o-(n+s)]:0,d=t[e+o]-r(u,c,l);a[i+o]=d}}},i={0:function(t,e,n){for(var r=0,a=e+n,i=e;i<a;i++)r+=Math.abs(t[i]);return r},1:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var s=i>=r?t[e+i-r]:0,o=t[e+i]-s;a+=Math.abs(o)}return a},2:function(t,e,n){for(var r=0,a=e+n,i=e;i<a;i++){var s=e>0?t[i-n]:0,o=t[i]-s;r+=Math.abs(o)}return r},3:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var s=i>=r?t[e+i-r]:0,o=e>0?t[e+i-n]:0,u=t[e+i]-(s+o>>1);a+=Math.abs(u)}return a},4:function(t,e,n,a){for(var i=0,s=0;s<n;s++){var o=s>=a?t[e+s-a]:0,u=e>0?t[e+s-n]:0,c=e>0&&s>=a?t[e+s-(n+a)]:0,l=t[e+s]-r(o,u,c);i+=Math.abs(l)}return i}};t.exports=function(t,n,r,s,o){var u;if("filterType"in s&&-1!==s.filterType){if("number"!=typeof s.filterType)throw new Error("unrecognised filter types");u=[s.filterType]}else u=[0,1,2,3,4];for(var c=n*o,l=0,d=0,h=new e((c+1)*r),p=u[0],f=0;f<r;f++){if(u.length>1)for(var m=1/0,b=0;b<u.length;b++){var g=i[u[b]](t,d,c,o);g<m&&(p=u[b],m=g)}h[l]=p,l++,a[p](t,d,c,h,l,o),l+=c,d+=c}return h}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";var r=n(391),a=n(393);e.read=function(t,e){return r(t,e||{})},e.write=function(t){return a(t)}},function(t,e,n){"use strict";(function(e){var r=!0,a=n(147);a.deflateSync||(r=!1);var i=n(264),s=n(392),o=n(259),u=n(261),c=n(262);t.exports=function(t,n){if(!r)throw new Error("To use the sync capability of this library in old node versions, please also add a dependency on node-zlb-backport");var l,d,h;var p=[];var f=new i(t);if(new o(n,{read:f.read.bind(f),error:function(t){l=t},metadata:function(t){d=t},gamma:function(t){h=t},palette:function(t){d.palette=t},transColor:function(t){d.transColor=t},inflateData:function(t){p.push(t)}}).start(),f.process(),l)throw l;var m=e.concat(p);p.length=0;var b=a.inflateSync(m);if(m=null,!b||!b.length)throw new Error("bad png - invalid inflate data response");var g=s.process(b,d);m=null;var y=u.dataToBitMap(g,d);g=null;var v=c(y,d);return d.data=v,d.gamma=h||0,d}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(t){var r=n(264),a=n(256);e.process=function(e,n){var i=[],s=new r(e);return new a(n,{read:s.read.bind(s),write:function(t){i.push(t)},complete:function(){}}).start(),s.process(),t.concat(i)}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=!0,a=n(147);a.deflateSync||(r=!1);var i=n(138),s=n(263);t.exports=function(t,n){if(!r)throw new Error("To use the sync capability of this library in old node versions, please also add a dependency on node-zlb-backport");var o=new s(n||{}),u=[];u.push(new e(i.PNG_SIGNATURE)),u.push(o.packIHDR(t.width,t.height)),t.gamma&&u.push(o.packGAMA(t.gamma));var c=o.filterData(t.data,t.width,t.height),l=a.deflateSync(c,o.getDeflateOptions());if(c=null,!l||!l.length)throw new Error("bad png - invalid compressed data response");return u.push(o.packIDAT(l)),u.push(o.packIEND()),e.concat(u)}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";var r=n(240),a={body:"",args:[],thisVars:[],localVars:[]};function i(t){if(!t)return a;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function s(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return r({args:t.args,pre:i(t.pre),body:i(t.body),post:i(t.proc),funcName:t.funcName})}(t))}var o={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in o){var n=o[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var n=u[t];e[t]=s({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var n=c[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var n=l[t];e[n]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var d=["max","min","atan2","pow"];!function(){for(var t=0;t<d.length;++t){var n=d[t];e[n]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=r({args:["array"],pre:a,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=r({args:["array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=r({args:["array","array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomObserver=void 0;var r=n(396),a=n(397),i=function(){function t(t){this.imageFilter=new r.ImageFilter(t),this.videoFilter=new a.VideoFilter(t),this.observer=new MutationObserver(this.callback.bind(this)),this.running=!1}return t.prototype.watch=function(){if(!this.running){for(var e=document.getElementsByTagName("img"),n=0;n<e.length;n++)this.imageFilter.analyzeImage(e[n],!1);var r=document.getElementsByTagName("video");for(n=0;n<r.length;n++)this.videoFilter.analyzeVideo(r[n]);this.observer.observe(document,t.getConfig()),this.running=!0}},t.prototype.stop=function(){this.running&&(this.observer.disconnect(),this.running=!1)},t.prototype.callback=function(t){for(var e=0;e<t.length;e++){var n=t[e];"childList"===n.type&&n.addedNodes.length>0?this.findAndChecksAllTags(n.target):"attributes"===n.type&&this.checkAttributeMutation(n)}},t.prototype.findAndChecksAllTags=function(t){for(var e=t.getElementsByTagName("img"),n=0;n<e.length;n++)this.imageFilter.analyzeImage(e[n],!1);var r=t.getElementsByTagName("video");for(n=0;n<r.length;n++)this.videoFilter.analyzeVideo(r[n])},t.prototype.checkAttributeMutation=function(t){"IMG"===t.target.nodeName&&this.imageFilter.analyzeImage(t.target,"src"===t.attributeName),"VIDEO"===t.target.nodeName&&this.videoFilter.analyzeVideo(t.target)},t.getConfig=function(){return{characterData:!1,subtree:!0,childList:!0,attributes:!0,attributeFilter:["src"]}},t}();e.DomObserver=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageFilter=void 0;var r=function(){function t(t){this.MIN_IMAGE_SIZE=41,this.queue=t}return t.prototype.analyzeImage=function(t,e){(e||void 0===t.dataset.nsfwFilterStatus)&&t.src.length>0&&(t.width>this.MIN_IMAGE_SIZE&&t.height>this.MIN_IMAGE_SIZE||0===t.height||0===t.width)&&(t.dataset.nsfwFilterStatus="processing",this._analyzeImage(t))},t.prototype._analyzeImage=function(t){t.crossOrigin="anonymous",this.queue.predict(t,(function(e){t.style.transform="",t.style.filter=e?'blur(25px)':"",t.crossOrigin=""}),(function(e){t.style.transform='',t.style.filter="grayscale(1)",t.crossOrigin=""}))},t}();e.ImageFilter=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoFilter=void 0;var r=function(){function t(t){this.MIN_IMAGE_SIZE=41,this.queue=t}return t.prototype.analyzeVideo=function(t){void 0===t.dataset.nsfwAnalysis&&(t.width>this.MIN_IMAGE_SIZE&&t.height>this.MIN_IMAGE_SIZE||0===t.height||0===t.width)&&this._startVideoAnalysis(t)},t.prototype._startVideoAnalysis=function(t){var e=this;t.dataset.nsfwAnalysis="analyzing";var n=document.createElement("canvas");n.width=224,n.height=224;var r=n.getContext("2d",{willReadFrequently:!0}),a=Date.now(),i=function(){var s=Date.now();if(s-a<5e2)t.requestVideoFrameCallback(i);else{a=s;var o=e._getImageFromVideo(t,n,r);void 0!==o&&e.queue.predict(o,(function(n){n?e._blurVideo(t):e._unblurVideo(t)}),(function(t){})),t.requestVideoFrameCallback(i)}};t.requestVideoFrameCallback(i)},t.prototype._getImageFromVideo=function(t,e,n){return null==n||n.drawImage(t,0,0,e.width,e.height),null==n?void 0:n.getImageData(0,0,e.width,e.height)},t.prototype._blurVideo=function(t){t.style.filter='blur(25px)'},t.prototype._unblurVideo=function(t){t.style.filter=''},t}();e.VideoFilter=r},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function o(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,a,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){a={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var o=function(){function t(t,e){this.model=t,this.FILTER_LIST=new Set(["Hentai","Porn","Sexy"]),this.firstFilterPercentages=new Map,this.secondFilterPercentages=new Map,this.setSettings(e)}return t.prototype.setSettings=function(e){var n,r,a,s,o=e.filterStrictness;this.firstFilterPercentages.clear(),this.secondFilterPercentages.clear();try{for(var u=i(this.FILTER_LIST.values()),c=u.next();!c.done;c=u.next()){var l=c.value;this.firstFilterPercentages.set(l,t.handleFilterStrictness({value:o,maxValue:100,minValue:"Porn"===l?40:60}))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var d=i(this.FILTER_LIST.values()),h=d.next();!h.done;h=d.next()){l=h.value;this.secondFilterPercentages.set(l,t.handleFilterStrictness({value:o,maxValue:50,minValue:"Porn"===l?15:25}))}}catch(t){a={error:t}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}},t.prototype.predictImage=function(t){return r(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,this.model.classify(t,2)];case 1:return e=n.sent(),[2,this.handlePrediction(e).result]}}))}))},t.prototype.handlePrediction=function(t){var e=s(t,2),n=e[0],r=n.className,a=n.probability,i=e[1],o=i.className,u=i.probability,c=this.FILTER_LIST.has(r)&&a>this.firstFilterPercentages.get(r);if(c)return{result:c,className:r,probability:a};var l=this.FILTER_LIST.has(o)&&u>this.secondFilterPercentages.get(o);return l?{result:l,className:o,probability:u}:{result:!1,className:r,probability:a}},t.handleFilterStrictness=function(t){var e=t.value,n=t.minValue,r=t.maxValue,a=n,i=r;return Math.round(function(t){return t<=1?i:t>=100?a:(1-t/100)*(i-a)+a}(e)/100*1e4)/1e4},t}();e.Model=o},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionQueue=void 0;var a=r(n(400)),i=function(){function t(t){this.model=t,this.queue=new a.default({concurrent:1,interval:0})}return t.prototype.predict=function(t,e,n){var r=this;this.queue.add((function(){return r.model.predictImage(t).then(e).catch(n)}))},t}();e.PredictionQueue=i},function(t,e,n){"use strict";var r,a=(r=n(108))&&r.__esModule?r:{default:r};function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?i(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const u=0,c=1,l=2;class d extends a.default{constructor(t={}){super(),o(this,"tasks",new Map),o(this,"uniqueId",0),o(this,"lastRan",0),o(this,"currentlyHandled",0),o(this,"state",u),o(this,"options",{concurrent:5,interval:500,start:!0}),this.options=s(s({},this.options),t),this.options.interval=parseInt(this.options.interval,10),this.options.concurrent=parseInt(this.options.concurrent,10)}start(){this.state===c||this.isEmpty||(this.state=c,this.emit("start"),(async()=>{for(;this.shouldRun;)await this.dequeue()})())}stop(){clearTimeout(this.timeoutId),this.state=l,this.emit("stop")}finalize(){this.currentlyHandled-=1,0===this.currentlyHandled&&this.isEmpty&&(this.stop(),this.state=u,this.emit("end"))}async execute(){const t=[];this.tasks.forEach((e,n)=>{this.currentlyHandled<this.options.concurrent&&(this.currentlyHandled++,this.tasks.delete(n),t.push(Promise.resolve(e()).then(t=>(this.emit("resolve",t),t)).catch(t=>(this.emit("reject",t),t)).finally(()=>{this.emit("dequeue"),this.finalize()})))});const e=await Promise.all(t);return 1===this.options.concurrent?e[0]:e}dequeue(){const{interval:t}=this.options;return new Promise(e=>{const n=Math.max(0,t-(Date.now()-this.lastRan));clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.lastRan=Date.now(),this.execute().then(e)},n)})}enqueue(t){if(Array.isArray(t))t.map(t=>this.enqueue(t));else{if("function"!=typeof t)throw new Error(`You must provide a function, not ${typeof t}.`);this.uniqueId=(this.uniqueId+1)%Number.MAX_SAFE_INTEGER,this.tasks.set(this.uniqueId,t),this.options.start&&this.state!==l&&this.start()}}add(t){this.enqueue(t)}clear(){this.tasks.clear()}get size(){return this.tasks.size}get isEmpty(){return 0===this.size}get shouldRun(){return!this.isEmpty&&this.state!==l}}e.default=d,t.exports=e.default},function(t,e,n){"use strict";n.r(e),n.d(e,"AdadeltaOptimizer",(function(){return d.d})),n.d(e,"AdagradOptimizer",(function(){return d.e})),n.d(e,"AdamOptimizer",(function(){return d.f})),n.d(e,"AdamaxOptimizer",(function(){return d.g})),n.d(e,"MomentumOptimizer",(function(){return d.ec})),n.d(e,"Optimizer",(function(){return d.pc})),n.d(e,"OptimizerConstructors",(function(){return d.qc})),n.d(e,"RMSPropOptimizer",(function(){return d.xc})),n.d(e,"SGDOptimizer",(function(){return d.Pc})),n.d(e,"Tensor",(function(){return d.td})),n.d(e,"TensorBuffer",(function(){return d.ud})),n.d(e,"Variable",(function(){return d.Cd})),n.d(e,"Rank",(function(){return d.zc})),n.d(e,"sumOutType",(function(){return d.Vh})),n.d(e,"upcastType",(function(){return d.ti})),n.d(e,"abs",(function(){return d.Fd})),n.d(e,"acos",(function(){return d.Gd})),n.d(e,"acosh",(function(){return d.Hd})),n.d(e,"add",(function(){return d.Id})),n.d(e,"addN",(function(){return d.Jd})),n.d(e,"all",(function(){return d.Kd})),n.d(e,"any",(function(){return d.Ld})),n.d(e,"argMax",(function(){return d.Md})),n.d(e,"argMin",(function(){return d.Nd})),n.d(e,"asin",(function(){return d.Od})),n.d(e,"asinh",(function(){return d.Pd})),n.d(e,"atan",(function(){return d.Qd})),n.d(e,"atan2",(function(){return d.Rd})),n.d(e,"atanh",(function(){return d.Sd})),n.d(e,"avgPool",(function(){return d.Td})),n.d(e,"avgPool3d",(function(){return d.Ud})),n.d(e,"basicLSTMCell",(function(){return d.Xd})),n.d(e,"batchToSpaceND",(function(){return d.ce})),n.d(e,"batchNorm",(function(){return d.Yd})),n.d(e,"batchNorm2d",(function(){return d.Zd})),n.d(e,"batchNorm3d",(function(){return d.ae})),n.d(e,"batchNorm4d",(function(){return d.be})),n.d(e,"bincount",(function(){return d.de})),n.d(e,"broadcastArgs",(function(){return d.fe})),n.d(e,"broadcastTo",(function(){return d.ge})),n.d(e,"buffer",(function(){return d.je})),n.d(e,"cast",(function(){return d.ke})),n.d(e,"ceil",(function(){return d.le})),n.d(e,"clipByValue",(function(){return d.me})),n.d(e,"clone",(function(){return d.ne})),n.d(e,"complex",(function(){return d.oe})),n.d(e,"concat",(function(){return d.pe})),n.d(e,"concat1d",(function(){return d.qe})),n.d(e,"concat2d",(function(){return d.re})),n.d(e,"concat3d",(function(){return d.se})),n.d(e,"concat4d",(function(){return d.te})),n.d(e,"conv1d",(function(){return d.ue})),n.d(e,"conv2d",(function(){return d.ve})),n.d(e,"conv2dTranspose",(function(){return d.we})),n.d(e,"conv3d",(function(){return d.xe})),n.d(e,"conv3dTranspose",(function(){return d.ye})),n.d(e,"cos",(function(){return d.Ae})),n.d(e,"cosh",(function(){return d.Be})),n.d(e,"cumprod",(function(){return d.De})),n.d(e,"cumsum",(function(){return d.Ee})),n.d(e,"denseBincount",(function(){return d.Ge})),n.d(e,"depthToSpace",(function(){return d.Ie})),n.d(e,"depthwiseConv2d",(function(){return d.Je})),n.d(e,"diag",(function(){return d.Le})),n.d(e,"dilation2d",(function(){return d.Me})),n.d(e,"div",(function(){return d.Qe})),n.d(e,"divNoNan",(function(){return d.Re})),n.d(e,"dot",(function(){return d.Se})),n.d(e,"einsum",(function(){return d.Ue})),n.d(e,"elu",(function(){return d.Ve})),n.d(e,"equal",(function(){return d.bf})),n.d(e,"erf",(function(){return d.cf})),n.d(e,"exp",(function(){return d.df})),n.d(e,"expandDims",(function(){return d.ef})),n.d(e,"expm1",(function(){return d.ff})),n.d(e,"eye",(function(){return d.gf})),n.d(e,"fill",(function(){return d.if})),n.d(e,"floor",(function(){return d.lf})),n.d(e,"floorDiv",(function(){return d.mf})),n.d(e,"gather",(function(){return d.of})),n.d(e,"greater",(function(){return d.xf})),n.d(e,"greaterEqual",(function(){return d.yf})),n.d(e,"imag",(function(){return d.Af})),n.d(e,"isFinite",(function(){return d.Ff})),n.d(e,"isInf",(function(){return d.Gf})),n.d(e,"isNaN",(function(){return d.Hf})),n.d(e,"leakyRelu",(function(){return d.Kf})),n.d(e,"less",(function(){return d.Lf})),n.d(e,"lessEqual",(function(){return d.Mf})),n.d(e,"linspace",(function(){return d.Of})),n.d(e,"localResponseNormalization",(function(){return d.Pf})),n.d(e,"log",(function(){return d.Qf})),n.d(e,"log1p",(function(){return d.Rf})),n.d(e,"logSigmoid",(function(){return d.Sf})),n.d(e,"logSoftmax",(function(){return d.Tf})),n.d(e,"logSumExp",(function(){return d.Uf})),n.d(e,"logicalAnd",(function(){return d.Vf})),n.d(e,"logicalNot",(function(){return d.Wf})),n.d(e,"logicalOr",(function(){return d.Xf})),n.d(e,"logicalXor",(function(){return d.Yf})),n.d(e,"matMul",(function(){return d.ag})),n.d(e,"max",(function(){return d.cg})),n.d(e,"maxPool",(function(){return d.dg})),n.d(e,"maxPool3d",(function(){return d.eg})),n.d(e,"maxPoolWithArgmax",(function(){return d.fg})),n.d(e,"maximum",(function(){return d.gg})),n.d(e,"mean",(function(){return d.hg})),n.d(e,"meshgrid",(function(){return d.jg})),n.d(e,"min",(function(){return d.kg})),n.d(e,"minimum",(function(){return d.lg})),n.d(e,"mirrorPad",(function(){return d.mg})),n.d(e,"mod",(function(){return d.ng})),n.d(e,"moments",(function(){return d.og})),n.d(e,"mul",(function(){return d.qg})),n.d(e,"multiRNNCell",(function(){return d.rg})),n.d(e,"multinomial",(function(){return d.sg})),n.d(e,"neg",(function(){return d.tg})),n.d(e,"notEqual",(function(){return d.wg})),n.d(e,"oneHot",(function(){return d.xg})),n.d(e,"ones",(function(){return d.yg})),n.d(e,"onesLike",(function(){return d.zg})),n.d(e,"outerProduct",(function(){return d.Bg})),n.d(e,"pad",(function(){return d.Cg})),n.d(e,"pad1d",(function(){return d.Dg})),n.d(e,"pad2d",(function(){return d.Eg})),n.d(e,"pad3d",(function(){return d.Fg})),n.d(e,"pad4d",(function(){return d.Gg})),n.d(e,"pool",(function(){return d.Hg})),n.d(e,"pow",(function(){return d.Ig})),n.d(e,"prelu",(function(){return d.Jg})),n.d(e,"print",(function(){return d.Kg})),n.d(e,"prod",(function(){return d.Lg})),n.d(e,"rand",(function(){return d.Ng})),n.d(e,"randomGamma",(function(){return d.Og})),n.d(e,"randomNormal",(function(){return d.Pg})),n.d(e,"randomUniform",(function(){return d.Qg})),n.d(e,"range",(function(){return d.Rg})),n.d(e,"real",(function(){return d.Tg})),n.d(e,"reciprocal",(function(){return d.Ug})),n.d(e,"relu",(function(){return d.Yg})),n.d(e,"relu6",(function(){return d.Zg})),n.d(e,"reshape",(function(){return d.bh})),n.d(e,"reverse",(function(){return d.ch})),n.d(e,"reverse1d",(function(){return d.dh})),n.d(e,"reverse2d",(function(){return d.eh})),n.d(e,"reverse3d",(function(){return d.fh})),n.d(e,"reverse4d",(function(){return d.gh})),n.d(e,"round",(function(){return d.ih})),n.d(e,"rsqrt",(function(){return d.jh})),n.d(e,"scalar",(function(){return d.kh})),n.d(e,"selu",(function(){return d.nh})),n.d(e,"separableConv2d",(function(){return d.oh})),n.d(e,"setdiff1dAsync",(function(){return d.sh})),n.d(e,"sigmoid",(function(){return d.th})),n.d(e,"sign",(function(){return d.uh})),n.d(e,"sin",(function(){return d.wh})),n.d(e,"sinh",(function(){return d.xh})),n.d(e,"slice",(function(){return d.yh})),n.d(e,"slice1d",(function(){return d.zh})),n.d(e,"slice2d",(function(){return d.Ah})),n.d(e,"slice3d",(function(){return d.Bh})),n.d(e,"slice4d",(function(){return d.Ch})),n.d(e,"softmax",(function(){return d.Eh})),n.d(e,"softplus",(function(){return d.Fh})),n.d(e,"spaceToBatchND",(function(){return d.Gh})),n.d(e,"fft",(function(){return d.hf})),n.d(e,"ifft",(function(){return d.zf})),n.d(e,"irfft",(function(){return d.Ef})),n.d(e,"rfft",(function(){return d.hh})),n.d(e,"split",(function(){return d.Kh})),n.d(e,"sqrt",(function(){return d.Lh})),n.d(e,"square",(function(){return d.Mh})),n.d(e,"squaredDifference",(function(){return d.Nh})),n.d(e,"squeeze",(function(){return d.Oh})),n.d(e,"stack",(function(){return d.Ph})),n.d(e,"step",(function(){return d.Qh})),n.d(e,"stridedSlice",(function(){return d.Rh})),n.d(e,"sub",(function(){return d.Th})),n.d(e,"sum",(function(){return d.Uh})),n.d(e,"tan",(function(){return d.Wh})),n.d(e,"tanh",(function(){return d.Xh})),n.d(e,"tensor",(function(){return d.Yh})),n.d(e,"tensor1d",(function(){return d.Zh})),n.d(e,"tensor2d",(function(){return d.ai})),n.d(e,"tensor3d",(function(){return d.bi})),n.d(e,"tensor4d",(function(){return d.ci})),n.d(e,"tensor5d",(function(){return d.di})),n.d(e,"tensor6d",(function(){return d.ei})),n.d(e,"tile",(function(){return d.ii})),n.d(e,"topk",(function(){return d.ki})),n.d(e,"truncatedNormal",(function(){return d.ni})),n.d(e,"unique",(function(){return d.oi})),n.d(e,"unsortedSegmentSum",(function(){return d.ri})),n.d(e,"unstack",(function(){return d.si})),n.d(e,"variable",(function(){return d.xi})),n.d(e,"where",(function(){return d.Ai})),n.d(e,"whereAsync",(function(){return d.Bi})),n.d(e,"zeros",(function(){return d.Ci})),n.d(e,"zerosLike",(function(){return d.Di})),n.d(e,"booleanMaskAsync",(function(){return d.ee})),n.d(e,"transpose",(function(){return d.mi})),n.d(e,"norm",(function(){return d.vg})),n.d(e,"movingAverage",(function(){return d.pg})),n.d(e,"scatterND",(function(){return d.lh})),n.d(e,"sparseToDense",(function(){return d.Ih})),n.d(e,"gatherND",(function(){return d.pf})),n.d(e,"dropout",(function(){return d.Te})),n.d(e,"enclosingPowerOfTwo",(function(){return d.Ye})),n.d(e,"cosineWindow",(function(){return d.Ce})),n.d(e,"inTopKAsync",(function(){return d.Cf})),n.d(e,"op",(function(){return d.Ag})),n.d(e,"OP_SCOPE_SUFFIX",(function(){return d.mc})),n.d(e,"image",(function(){return d.Bf})),n.d(e,"linalg",(function(){return d.Nf})),n.d(e,"losses",(function(){return d.Zf})),n.d(e,"spectral",(function(){return d.Jh})),n.d(e,"fused",(function(){return d.nf})),n.d(e,"signal",(function(){return d.vh})),n.d(e,"sparse",(function(){return d.Hh})),n.d(e,"string",(function(){return d.Sh})),n.d(e,"Reduction",(function(){return d.Dc})),n.d(e,"train",(function(){return d.li})),n.d(e,"enableProdMode",(function(){return d.Xe})),n.d(e,"enableDebugMode",(function(){return d.We})),n.d(e,"disableDeprecationWarnings",(function(){return d.Ne})),n.d(e,"deprecationWarn",(function(){return d.He})),n.d(e,"disposeVariables",(function(){return d.Pe})),n.d(e,"engine",(function(){return d.Ze})),n.d(e,"memory",(function(){return d.ig})),n.d(e,"profile",(function(){return d.Mg})),n.d(e,"tidy",(function(){return d.hi})),n.d(e,"dispose",(function(){return d.Oe})),n.d(e,"keep",(function(){return d.If})),n.d(e,"time",(function(){return d.ji})),n.d(e,"setBackend",(function(){return d.qh})),n.d(e,"ready",(function(){return d.Sg})),n.d(e,"getBackend",(function(){return d.rf})),n.d(e,"removeBackend",(function(){return d.ah})),n.d(e,"findBackend",(function(){return d.jf})),n.d(e,"findBackendFactory",(function(){return d.kf})),n.d(e,"registerBackend",(function(){return d.Vg})),n.d(e,"backend",(function(){return d.Vd})),n.d(e,"setPlatform",(function(){return d.rh})),n.d(e,"getKernel",(function(){return d.tf})),n.d(e,"getGradient",(function(){return d.sf})),n.d(e,"getKernelsForBackend",(function(){return d.uf})),n.d(e,"registerKernel",(function(){return d.Xg})),n.d(e,"registerGradient",(function(){return d.Wg})),n.d(e,"unregisterKernel",(function(){return d.qi})),n.d(e,"unregisterGradient",(function(){return d.pi})),n.d(e,"copyRegisteredKernels",(function(){return d.ze})),n.d(e,"customGrad",(function(){return d.Fe})),n.d(e,"grad",(function(){return d.vf})),n.d(e,"grads",(function(){return d.wf})),n.d(e,"valueAndGrad",(function(){return d.vi})),n.d(e,"valueAndGrads",(function(){return d.wi})),n.d(e,"variableGrads",(function(){return d.yi})),n.d(e,"Environment",(function(){return d.gb})),n.d(e,"env",(function(){return d.af})),n.d(e,"ENV",(function(){return d.cb})),n.d(e,"version_core",(function(){return d.zi})),n.d(e,"nextFrame",(function(){return d.ug})),n.d(e,"browser",(function(){return d.ie})),n.d(e,"io",(function(){return d.Df})),n.d(e,"math",(function(){return d.bg})),n.d(e,"serialization",(function(){return d.ph})),n.d(e,"test_util",(function(){return d.gi})),n.d(e,"util",(function(){return d.ui})),n.d(e,"backend_util",(function(){return d.Wd})),n.d(e,"broadcast_util",(function(){return d.he})),n.d(e,"tensor_util",(function(){return d.fi})),n.d(e,"slice_util",(function(){return d.Dh})),n.d(e,"gather_util",(function(){return d.qf})),n.d(e,"scatter_util",(function(){return d.mh})),n.d(e,"device_util",(function(){return d.Ke})),n.d(e,"kernel_impls",(function(){return d.Jf})),n.d(e,"KernelBackend",(function(){return d.Fb})),n.d(e,"DataStorage",(function(){return d.S})),n.d(e,"Abs",(function(){return d.a})),n.d(e,"Acos",(function(){return d.b})),n.d(e,"Acosh",(function(){return d.c})),n.d(e,"Add",(function(){return d.h})),n.d(e,"AddN",(function(){return d.i})),n.d(e,"All",(function(){return d.j})),n.d(e,"Any",(function(){return d.k})),n.d(e,"ArgMax",(function(){return d.l})),n.d(e,"ArgMin",(function(){return d.m})),n.d(e,"Asin",(function(){return d.n})),n.d(e,"Asinh",(function(){return d.o})),n.d(e,"Atan",(function(){return d.p})),n.d(e,"Atanh",(function(){return d.r})),n.d(e,"Atan2",(function(){return d.q})),n.d(e,"AvgPool",(function(){return d.s})),n.d(e,"AvgPoolGrad",(function(){return d.v})),n.d(e,"AvgPool3D",(function(){return d.t})),n.d(e,"AvgPool3DGrad",(function(){return d.u})),n.d(e,"BatchMatMul",(function(){return d.w})),n.d(e,"BatchToSpaceND",(function(){return d.x})),n.d(e,"Bincount",(function(){return d.y})),n.d(e,"BroadcastTo",(function(){return d.A})),n.d(e,"BroadcastArgs",(function(){return d.z})),n.d(e,"Cast",(function(){return d.B})),n.d(e,"Ceil",(function(){return d.C})),n.d(e,"ClipByValue",(function(){return d.D})),n.d(e,"Complex",(function(){return d.E})),n.d(e,"ComplexAbs",(function(){return d.F})),n.d(e,"Concat",(function(){return d.G})),n.d(e,"Conv2D",(function(){return d.H})),n.d(e,"Conv2DBackpropFilter",(function(){return d.I})),n.d(e,"Conv2DBackpropInput",(function(){return d.J})),n.d(e,"Conv3D",(function(){return d.K})),n.d(e,"Conv3DBackpropFilterV2",(function(){return d.L})),n.d(e,"Conv3DBackpropInputV2",(function(){return d.M})),n.d(e,"Cos",(function(){return d.N})),n.d(e,"Cosh",(function(){return d.O})),n.d(e,"Cumprod",(function(){return d.Q})),n.d(e,"Cumsum",(function(){return d.R})),n.d(e,"CropAndResize",(function(){return d.P})),n.d(e,"DenseBincount",(function(){return d.T})),n.d(e,"DepthToSpace",(function(){return d.U})),n.d(e,"DepthwiseConv2dNative",(function(){return d.V})),n.d(e,"DepthwiseConv2dNativeBackpropFilter",(function(){return d.W})),n.d(e,"DepthwiseConv2dNativeBackpropInput",(function(){return d.X})),n.d(e,"Diag",(function(){return d.Y})),n.d(e,"Dilation2D",(function(){return d.Z})),n.d(e,"Dilation2DBackpropInput",(function(){return d.bb})),n.d(e,"Dilation2DBackpropFilter",(function(){return d.ab})),n.d(e,"RealDiv",(function(){return d.Bc})),n.d(e,"Einsum",(function(){return d.db})),n.d(e,"Elu",(function(){return d.eb})),n.d(e,"EluGrad",(function(){return d.fb})),n.d(e,"Erf",(function(){return d.ib})),n.d(e,"Equal",(function(){return d.hb})),n.d(e,"Exp",(function(){return d.jb})),n.d(e,"ExpandDims",(function(){return d.kb})),n.d(e,"Expm1",(function(){return d.lb})),n.d(e,"FFT",(function(){return d.mb})),n.d(e,"Fill",(function(){return d.nb})),n.d(e,"FlipLeftRight",(function(){return d.ob})),n.d(e,"Floor",(function(){return d.pb})),n.d(e,"FloorDiv",(function(){return d.qb})),n.d(e,"FusedBatchNorm",(function(){return d.sb})),n.d(e,"GatherV2",(function(){return d.wb})),n.d(e,"GatherNd",(function(){return d.vb})),n.d(e,"Greater",(function(){return d.xb})),n.d(e,"GreaterEqual",(function(){return d.yb})),n.d(e,"Identity",(function(){return d.Ab})),n.d(e,"IFFT",(function(){return d.zb})),n.d(e,"Imag",(function(){return d.Bb})),n.d(e,"IsFinite",(function(){return d.Cb})),n.d(e,"IsInf",(function(){return d.Db})),n.d(e,"IsNan",(function(){return d.Eb})),n.d(e,"LeakyRelu",(function(){return d.Ib})),n.d(e,"Less",(function(){return d.Jb})),n.d(e,"LessEqual",(function(){return d.Kb})),n.d(e,"LinSpace",(function(){return d.Lb})),n.d(e,"Log",(function(){return d.Mb})),n.d(e,"Log1p",(function(){return d.Nb})),n.d(e,"LogicalAnd",(function(){return d.Pb})),n.d(e,"LogicalNot",(function(){return d.Qb})),n.d(e,"LogicalOr",(function(){return d.Rb})),n.d(e,"LogSoftmax",(function(){return d.Ob})),n.d(e,"LRN",(function(){return d.Gb})),n.d(e,"LRNGrad",(function(){return d.Hb})),n.d(e,"Max",(function(){return d.Sb})),n.d(e,"Maximum",(function(){return d.Yb})),n.d(e,"MaxPool",(function(){return d.Tb})),n.d(e,"MaxPoolGrad",(function(){return d.Wb})),n.d(e,"MaxPool3D",(function(){return d.Ub})),n.d(e,"MaxPool3DGrad",(function(){return d.Vb})),n.d(e,"MaxPoolWithArgmax",(function(){return d.Xb})),n.d(e,"Mean",(function(){return d.Zb})),n.d(e,"Min",(function(){return d.ac})),n.d(e,"Minimum",(function(){return d.bc})),n.d(e,"MirrorPad",(function(){return d.cc})),n.d(e,"Mod",(function(){return d.dc})),n.d(e,"Multinomial",(function(){return d.fc})),n.d(e,"Multiply",(function(){return d.gc})),n.d(e,"Neg",(function(){return d.hc})),n.d(e,"NotEqual",(function(){return d.lc})),n.d(e,"NonMaxSuppressionV3",(function(){return d.ic})),n.d(e,"NonMaxSuppressionV4",(function(){return d.jc})),n.d(e,"NonMaxSuppressionV5",(function(){return d.kc})),n.d(e,"OnesLike",(function(){return d.oc})),n.d(e,"OneHot",(function(){return d.nc})),n.d(e,"Pack",(function(){return d.rc})),n.d(e,"PadV2",(function(){return d.sc})),n.d(e,"Pool",(function(){return d.tc})),n.d(e,"Pow",(function(){return d.uc})),n.d(e,"Prelu",(function(){return d.vc})),n.d(e,"Prod",(function(){return d.wc})),n.d(e,"Range",(function(){return d.yc})),n.d(e,"Real",(function(){return d.Ac})),n.d(e,"Reciprocal",(function(){return d.Cc})),n.d(e,"Relu",(function(){return d.Ec})),n.d(e,"Reshape",(function(){return d.Gc})),n.d(e,"ResizeNearestNeighbor",(function(){return d.Jc})),n.d(e,"ResizeNearestNeighborGrad",(function(){return d.Kc})),n.d(e,"ResizeBilinear",(function(){return d.Hc})),n.d(e,"ResizeBilinearGrad",(function(){return d.Ic})),n.d(e,"Relu6",(function(){return d.Fc})),n.d(e,"Reverse",(function(){return d.Lc})),n.d(e,"Round",(function(){return d.Nc})),n.d(e,"Rsqrt",(function(){return d.Oc})),n.d(e,"ScatterNd",(function(){return d.Qc})),n.d(e,"Select",(function(){return d.Rc})),n.d(e,"Selu",(function(){return d.Sc})),n.d(e,"Slice",(function(){return d.Xc})),n.d(e,"Sin",(function(){return d.Vc})),n.d(e,"Sinh",(function(){return d.Wc})),n.d(e,"Sign",(function(){return d.Uc})),n.d(e,"Sigmoid",(function(){return d.Tc})),n.d(e,"Softplus",(function(){return d.Zc})),n.d(e,"Sqrt",(function(){return d.hd})),n.d(e,"Sum",(function(){return d.qd})),n.d(e,"SpaceToBatchND",(function(){return d.ad})),n.d(e,"SplitV",(function(){return d.gd})),n.d(e,"Softmax",(function(){return d.Yc})),n.d(e,"SparseFillEmptyRows",(function(){return d.bd})),n.d(e,"SparseReshape",(function(){return d.cd})),n.d(e,"SparseSegmentMean",(function(){return d.dd})),n.d(e,"SparseSegmentSum",(function(){return d.ed})),n.d(e,"SparseToDense",(function(){return d.fd})),n.d(e,"SquaredDifference",(function(){return d.jd})),n.d(e,"Square",(function(){return d.id})),n.d(e,"StridedSlice",(function(){return d.ld})),n.d(e,"StringNGrams",(function(){return d.md})),n.d(e,"StringSplit",(function(){return d.nd})),n.d(e,"StringToHashBucketFast",(function(){return d.od})),n.d(e,"Sub",(function(){return d.pd})),n.d(e,"Tan",(function(){return d.rd})),n.d(e,"Tanh",(function(){return d.sd})),n.d(e,"Tile",(function(){return d.vd})),n.d(e,"TopK",(function(){return d.wd})),n.d(e,"Transform",(function(){return d.xd})),n.d(e,"Transpose",(function(){return d.yd})),n.d(e,"Unique",(function(){return d.zd})),n.d(e,"Unpack",(function(){return d.Ad})),n.d(e,"UnsortedSegmentSum",(function(){return d.Bd})),n.d(e,"ZerosLike",(function(){return d.Dd})),n.d(e,"Step",(function(){return d.kd})),n.d(e,"FromPixels",(function(){return d.rb})),n.d(e,"RotateWithOffset",(function(){return d.Mc})),n.d(e,"_FusedMatMul",(function(){return d.Ed})),n.d(e,"FusedConv2D",(function(){return d.tb})),n.d(e,"FusedDepthwiseConv2D",(function(){return d.ub})),n.d(e,"CallbackList",(function(){return $s})),n.d(e,"CustomCallback",(function(){return Ms})),n.d(e,"History",(function(){return Ds})),n.d(e,"Callback",(function(){return Ld})),n.d(e,"callbacks",(function(){return Wd})),n.d(e,"EarlyStopping",(function(){return Bd})),n.d(e,"InputSpec",(function(){return Pi})),n.d(e,"SymbolicTensor",(function(){return Bi})),n.d(e,"LayersModel",(function(){return Bo})),n.d(e,"input",(function(){return Xo})),n.d(e,"loadLayersModel",(function(){return Ko})),n.d(e,"model",(function(){return Ho})),n.d(e,"registerCallbackConstructor",(function(){return Zo})),n.d(e,"sequential",(function(){return qo})),n.d(e,"RNN",(function(){return Zu})),n.d(e,"Sequential",(function(){return Go})),n.d(e,"LayerVariable",(function(){return Mi})),n.d(e,"version_layers",(function(){return wo})),n.d(e,"constraints",(function(){return r})),n.d(e,"initializers",(function(){return a})),n.d(e,"layers",(function(){return i})),n.d(e,"metrics",(function(){return s})),n.d(e,"models",(function(){return o})),n.d(e,"regularizers",(function(){return u})),n.d(e,"GraphModel",(function(){return zh})),n.d(e,"loadGraphModel",(function(){return Ph})),n.d(e,"deregisterOp",(function(){return Hd.a})),n.d(e,"registerOp",(function(){return Hd.c})),n.d(e,"version_converter",(function(){return Bh})),n.d(e,"data",(function(){return c})),n.d(e,"version",(function(){return NN}));var r={};n.r(r),n.d(r,"maxNorm",(function(){return ds})),n.d(r,"unitNorm",(function(){return hs})),n.d(r,"nonNeg",(function(){return ps})),n.d(r,"minMaxNorm",(function(){return fs}));var a={};n.r(a),n.d(a,"zeros",(function(){return ms})),n.d(a,"ones",(function(){return bs})),n.d(a,"constant",(function(){return gs})),n.d(a,"randomUniform",(function(){return ys})),n.d(a,"randomNormal",(function(){return vs})),n.d(a,"truncatedNormal",(function(){return ws})),n.d(a,"identity",(function(){return xs})),n.d(a,"varianceScaling",(function(){return Os})),n.d(a,"glorotUniform",(function(){return ks})),n.d(a,"glorotNormal",(function(){return Is})),n.d(a,"heNormal",(function(){return Ss})),n.d(a,"heUniform",(function(){return js})),n.d(a,"leCunNormal",(function(){return _s})),n.d(a,"leCunUniform",(function(){return Ns})),n.d(a,"orthogonal",(function(){return Ts}));var i={};n.r(i),n.d(i,"inputLayer",(function(){return rl})),n.d(i,"elu",(function(){return al})),n.d(i,"reLU",(function(){return il})),n.d(i,"leakyReLU",(function(){return sl})),n.d(i,"prelu",(function(){return ol})),n.d(i,"softmax",(function(){return ul})),n.d(i,"thresholdedReLU",(function(){return cl})),n.d(i,"conv1d",(function(){return ll})),n.d(i,"conv2d",(function(){return dl})),n.d(i,"conv2dTranspose",(function(){return hl})),n.d(i,"conv3d",(function(){return pl})),n.d(i,"conv3dTranspose",(function(){return fl})),n.d(i,"separableConv2d",(function(){return ml})),n.d(i,"cropping2D",(function(){return bl})),n.d(i,"upSampling2d",(function(){return gl})),n.d(i,"depthwiseConv2d",(function(){return yl})),n.d(i,"activation",(function(){return vl})),n.d(i,"dense",(function(){return wl})),n.d(i,"dropout",(function(){return xl})),n.d(i,"spatialDropout1d",(function(){return Ol})),n.d(i,"flatten",(function(){return kl})),n.d(i,"repeatVector",(function(){return Il})),n.d(i,"reshape",(function(){return Sl})),n.d(i,"permute",(function(){return jl})),n.d(i,"embedding",(function(){return _l})),n.d(i,"add",(function(){return Nl})),n.d(i,"average",(function(){return Tl})),n.d(i,"concatenate",(function(){return El})),n.d(i,"maximum",(function(){return Cl})),n.d(i,"minimum",(function(){return Al})),n.d(i,"multiply",(function(){return Rl})),n.d(i,"dot",(function(){return $l})),n.d(i,"batchNormalization",(function(){return Fl})),n.d(i,"layerNormalization",(function(){return Dl})),n.d(i,"zeroPadding2d",(function(){return Ml})),n.d(i,"averagePooling1d",(function(){return Ll})),n.d(i,"avgPool1d",(function(){return zl})),n.d(i,"avgPooling1d",(function(){return Pl})),n.d(i,"averagePooling2d",(function(){return Bl})),n.d(i,"avgPool2d",(function(){return Wl})),n.d(i,"avgPooling2d",(function(){return Ul})),n.d(i,"averagePooling3d",(function(){return Vl})),n.d(i,"avgPool3d",(function(){return Gl})),n.d(i,"avgPooling3d",(function(){return Hl})),n.d(i,"globalAveragePooling1d",(function(){return ql})),n.d(i,"globalAveragePooling2d",(function(){return Kl})),n.d(i,"globalMaxPooling1d",(function(){return Xl})),n.d(i,"globalMaxPooling2d",(function(){return Zl})),n.d(i,"maxPooling1d",(function(){return Yl})),n.d(i,"maxPooling2d",(function(){return Jl})),n.d(i,"maxPooling3d",(function(){return Ql})),n.d(i,"gru",(function(){return td})),n.d(i,"gruCell",(function(){return ed})),n.d(i,"lstm",(function(){return nd})),n.d(i,"lstmCell",(function(){return rd})),n.d(i,"simpleRNN",(function(){return ad})),n.d(i,"simpleRNNCell",(function(){return id})),n.d(i,"convLstm2d",(function(){return sd})),n.d(i,"convLstm2dCell",(function(){return od})),n.d(i,"rnn",(function(){return ud})),n.d(i,"stackedRNNCells",(function(){return cd})),n.d(i,"bidirectional",(function(){return ld})),n.d(i,"timeDistributed",(function(){return dd})),n.d(i,"globalMaxPool1d",(function(){return hd})),n.d(i,"globalMaxPool2d",(function(){return pd})),n.d(i,"maxPool1d",(function(){return fd})),n.d(i,"maxPool2d",(function(){return md})),n.d(i,"Layer",(function(){return Gi})),n.d(i,"RNN",(function(){return Zu})),n.d(i,"RNNCell",(function(){return Yu})),n.d(i,"input",(function(){return Xo})),n.d(i,"gaussianNoise",(function(){return bd})),n.d(i,"gaussianDropout",(function(){return gd})),n.d(i,"alphaDropout",(function(){return yd})),n.d(i,"masking",(function(){return vd}));var s={};n.r(s),n.d(s,"binaryAccuracy",(function(){return wd})),n.d(s,"binaryCrossentropy",(function(){return xd})),n.d(s,"sparseCategoricalAccuracy",(function(){return Od})),n.d(s,"categoricalAccuracy",(function(){return kd})),n.d(s,"categoricalCrossentropy",(function(){return Id})),n.d(s,"precision",(function(){return Sd})),n.d(s,"recall",(function(){return jd})),n.d(s,"cosineProximity",(function(){return _d})),n.d(s,"meanAbsoluteError",(function(){return Nd})),n.d(s,"meanAbsolutePercentageError",(function(){return Td})),n.d(s,"MAPE",(function(){return Ed})),n.d(s,"mape",(function(){return Cd})),n.d(s,"meanSquaredError",(function(){return Ad})),n.d(s,"MSE",(function(){return Rd})),n.d(s,"mse",(function(){return $d}));var o={};n.r(o),n.d(o,"modelFromJSON",(function(){return Uo}));var u={};n.r(u),n.d(u,"l1l2",(function(){return Fd})),n.d(u,"l1",(function(){return Dd})),n.d(u,"l2",(function(){return Md}));var c={};n.r(c),n.d(c,"array",(function(){return qh})),n.d(c,"Dataset",(function(){return Gh})),n.d(c,"zip",(function(){return Kh})),n.d(c,"CSVDataset",(function(){return np})),n.d(c,"TextLineDataset",(function(){return Zh})),n.d(c,"csv",(function(){return hp})),n.d(c,"func",(function(){return pp})),n.d(c,"generator",(function(){return fp})),n.d(c,"microphone",(function(){return bp})),n.d(c,"webcam",(function(){return mp})),n.d(c,"FileDataSource",(function(){return lp})),n.d(c,"URLDataSource",(function(){return dp})),n.d(c,"version_data",(function(){return gp}));var l={};n.r(l),n.d(l,"simpleAbsImpl",(function(){return of})),n.d(l,"addImpl",(function(){return Yp})),n.d(l,"bincountImpl",(function(){return Vf})),n.d(l,"bincountReduceImpl",(function(){return Gf})),n.d(l,"ceilImpl",(function(){return Kf})),n.d(l,"concatImpl",(function(){return tm})),n.d(l,"equalImpl",(function(){return Mm})),n.d(l,"expImpl",(function(){return Km})),n.d(l,"expm1Impl",(function(){return Qm})),n.d(l,"floorImpl",(function(){return mb})),n.d(l,"gatherNdImpl",(function(){return kb})),n.d(l,"gatherV2Impl",(function(){return Sb})),n.d(l,"greaterImpl",(function(){return _b})),n.d(l,"greaterEqualImpl",(function(){return Eb})),n.d(l,"lessImpl",(function(){return Pb})),n.d(l,"lessEqualImpl",(function(){return Ub})),n.d(l,"linSpaceImpl",(function(){return Hb})),n.d(l,"logImpl",(function(){return Kb})),n.d(l,"maxImpl",(function(){return cg})),n.d(l,"maximumImpl",(function(){return hg})),n.d(l,"minimumImpl",(function(){return Og})),n.d(l,"multiplyImpl",(function(){return Tm})),n.d(l,"negImpl",(function(){return Rg})),n.d(l,"notEqualImpl",(function(){return Bg})),n.d(l,"prodImpl",(function(){return ty})),n.d(l,"rangeImpl",(function(){return ny})),n.d(l,"rsqrtImpl",(function(){return fy})),n.d(l,"sigmoidImpl",(function(){return Lp})),n.d(l,"sliceImpl",(function(){return Pf})),n.d(l,"sparseFillEmptyRowsImpl",(function(){return $y})),n.d(l,"sparseReshapeImpl",(function(){return Dy})),n.d(l,"sparseSegmentReductionImpl",(function(){return Ly})),n.d(l,"sqrtImpl",(function(){return Uy})),n.d(l,"squaredDifferenceImpl",(function(){return qy})),n.d(l,"stridedSliceImpl",(function(){return Jy})),n.d(l,"stringNGramsImpl",(function(){return ev})),n.d(l,"stringSplitImpl",(function(){return av})),n.d(l,"stringToHashBucketFastImpl",(function(){return sv})),n.d(l,"subImpl",(function(){return ib})),n.d(l,"tileImpl",(function(){return hv})),n.d(l,"topKImpl",(function(){return bv})),n.d(l,"transposeImpl",(function(){return ff})),n.d(l,"uniqueImpl",(function(){return kv}));var d=n(0),h=n(3),p=n(11),f=n(9),m=n(78);
+var r=n(29),a=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return a(t,e,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s),s.prototype=Object.create(a.prototype),i(a,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=i;var r=n(245),a=Object.create(n(74));function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}a.inherits=n(70),a.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(197)},function(t,e,n){t.exports=n(100)},function(t,e,n){t.exports=n(195).Transform},function(t,e,n){t.exports=n(195).PassThrough},function(t,e,n){(function(e){t.exports=function(t){if(!/^data\:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');var n=(t=t.replace(/\r?\n/g,"")).indexOf(",");if(-1===n||n<=4)throw new TypeError("malformed data: URI");for(var r=t.substring(5,n).split(";"),a=!1,i="US-ASCII",s=0;s<r.length;s++)"base64"==r[s]?a=!0:0==r[s].indexOf("charset=")&&(i=r[s].substring(8));var o=unescape(t.substring(n+1)),u=new e(o,a?"base64":"ascii");return u.type=r[0]||"text/plain",u.charset=i,u}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(348),a=n(375).PNG,i=n(194),s=n(394),o=n(241);function u(t,e,n){if(4===t.shape.length)return u(t.pick(n),e,0);if(3===t.shape.length)if(3===t.shape[2])s.assign(i(e,[t.shape[0],t.shape[1],3],[4,4*t.shape[0],1]),t),s.assigns(i(e,[t.shape[0]*t.shape[1]],[4],3),255);else if(4===t.shape[2])s.assign(i(e,[t.shape[0],t.shape[1],4],[4,4*t.shape[0],1]),t);else{if(1!==t.shape[2])return new Error("Incompatible array shape");s.assign(i(e,[t.shape[0],t.shape[1],3],[4,4*t.shape[0],1]),i(t.data,[t.shape[0],t.shape[1],3],[t.stride[0],t.stride[1],0],t.offset)),s.assigns(i(e,[t.shape[0]*t.shape[1]],[4],3),255)}else{if(2!==t.shape.length)return new Error("Incompatible array shape");s.assign(i(e,[t.shape[0],t.shape[1],3],[4,4*t.shape[0],1]),i(t.data,[t.shape[0],t.shape[1],3],[t.stride[0],t.stride[1],0],t.offset)),s.assigns(i(e,[t.shape[0]*t.shape[1]],[4],3),255)}return e}function c(t){var e=o();return e.emit("error",t),e}t.exports=function(t,n,i){switch(i=i||{},n.toUpperCase()){case"JPG":case".JPG":case"JPEG":case".JPEG":case"JPE":case".JPE":var s=t.shape[0],o=t.shape[1];return{data:d=u(t,d=new e(s*o*4)),width:s,height:o};case"GIF":case".GIF":var l=4===t.shape.length?t.shape[0]:1,d=(s=4===t.shape.length?t.shape[1]:t.shape[0],o=4===t.shape.length?t.shape[2]:t.shape[1],new e(s*o*4)),h=new r(s,o);h.writeHeader();for(var p=0;p<l;p++)d=u(t,d,p),h.addFrame(d);return h.finish(),h;case"PNG":case".PNG":var f=new a({width:t.shape[0],height:t.shape[1]});return"Error"==typeof(d=u(t,f.data))?c(d):(f.data=d,f.pack());case"CANVAS":var m=document.createElement("canvas"),b=m.getContext("2d");m.width=t.shape[0],m.height=t.shape[1];var g=b.getImageData(0,0,m.width,m.height);return"Error"==typeof(d=u(t,d=g.data))?c(d):(b.putImageData(g,0,0),m);default:return c(new Error("Unsupported file type: "+n))}}}).call(this,n(29).Buffer)},function(t,e,n){(function(e){n(198),n(108).EventEmitter;var r=n(369),a=n(85),i=n(373),s=n(374);function o(t){r.call(this,t),this.okayToPush=!0,this.resetData()}function u(t,e,n){var r=(n=n||{}).highWaterMark;o.call(this,{highWaterMark:r||0===r?r:65536}),this.width=~~t,this.height=~~e,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.usedEntry=[],this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10;var a=this;function i(){a.flushData()}this.on("writeHeader#stop",i),this.on("frame#stop",i),this.on("finish#stop",(function(){i(),a.push(null)}))}a.inherits(o,r),o.prototype._read=function(){this.okayToPush=!0},o.prototype.resetData=function(){this.data=[]},o.prototype.flushData=function(){if(!this.okayToPush){var t=new Error("GIF memory limit exceeded. Please `read` from GIF before writing additional frames/information.");return this.emit("error",t)}var n=new e(this.data);this.resetData(),this.okayToPush=this.push(n)},o.prototype.writeByte=function(t){this.data.push(t)},o.prototype.writeUTFBytes=function(t){for(var e=t.length,n=0;n<e;n++)this.writeByte(t.charCodeAt(n))},o.prototype.writeBytes=function(t,e,n){for(var r=n||t.length,a=e||0;a<r;a++)this.writeByte(t[a])},a.inherits(u,o),u.prototype.setDelay=function(t){this.delay=Math.round(t/10)},u.prototype.setFrameRate=function(t){this.delay=Math.round(100/t)},u.prototype.setDispose=function(t){t>=0&&(this.dispose=t)},u.prototype.setRepeat=function(t){this.repeat=t},u.prototype.setTransparent=function(t){this.transparent=t},u.prototype.analyzeImage=function(t){this.setImagePixels(this.removeAlphaChannel(t)),this.analyzePixels()},u.prototype.writeImageInfo=function(){this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.writePalette(),this.firstFrame=!1},u.prototype.outputImage=function(){this.writePixels()},u.prototype.addFrame=function(t){this.emit("frame#start"),this.analyzeImage(t),this.writeImageInfo(),this.outputImage(),this.emit("frame#stop")},u.prototype.finish=function(){this.emit("finish#start"),this.writeByte(59),this.emit("finish#stop")},u.prototype.setQuality=function(t){t<1&&(t=1),this.sample=t},u.prototype.writeHeader=function(){this.emit("writeHeader#start"),this.writeUTFBytes("GIF89a"),this.emit("writeHeader#stop")},u.prototype.analyzePixels=function(){var t=this.pixels.length/3;this.indexedPixels=new Uint8Array(t);var e=new i(this.pixels,this.sample);e.buildColormap(),this.colorTab=e.getColormap();for(var n=0,r=0;r<t;r++){var a=e.lookupRGB(255&this.pixels[n++],255&this.pixels[n++],255&this.pixels[n++]);this.usedEntry[a]=!0,this.indexedPixels[r]=a}this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent))},u.prototype.findClosest=function(t){if(null===this.colorTab)return-1;for(var e=(16711680&t)>>16,n=(65280&t)>>8,r=255&t,a=0,i=16777216,s=this.colorTab.length,o=0;o<s;){var u=e-(255&this.colorTab[o++]),c=n-(255&this.colorTab[o++]),l=r-(255&this.colorTab[o]),d=u*u+c*c+l*l,h=o/3;this.usedEntry[h]&&d<i&&(i=d,a=h),o++}return a},u.prototype.removeAlphaChannel=function(t){for(var e=this.width,n=this.height,r=new Uint8Array(e*n*3),a=0,i=0;i<n;i++)for(var s=0;s<e;s++){var o=i*e*4+4*s;r[a++]=t[o],r[a++]=t[o+1],r[a++]=t[o+2]}return r},u.prototype.setImagePixels=function(t){this.pixels=t},u.prototype.writeGraphicCtrlExt=function(){var t,e;this.writeByte(33),this.writeByte(249),this.writeByte(4),null===this.transparent?(t=0,e=0):(t=1,e=2),this.dispose>=0&&(e=7&dispose),e<<=2,this.writeByte(0|e|t),this.writeShort(this.delay),this.writeByte(this.transIndex),this.writeByte(0)},u.prototype.writeImageDesc=function(){this.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame?this.writeByte(0):this.writeByte(128|this.palSize)},u.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.writeByte(240|this.palSize),this.writeByte(0),this.writeByte(0)},u.prototype.writeNetscapeExt=function(){this.writeByte(33),this.writeByte(255),this.writeByte(11),this.writeUTFBytes("NETSCAPE2.0"),this.writeByte(3),this.writeByte(1),this.writeShort(this.repeat),this.writeByte(0)},u.prototype.writePalette=function(){this.writeBytes(this.colorTab);for(var t=768-this.colorTab.length,e=0;e<t;e++)this.writeByte(0)},u.prototype.writeShort=function(t){this.writeByte(255&t),this.writeByte(t>>8&255)},u.prototype.writePixels=function(){new s(this.width,this.height,this.indexedPixels,this.colorDepth).encode(this)},u.prototype.stream=function(){return this},u.ByteCapacitor=o,t.exports=u}).call(this,n(29).Buffer)},function(t,e,n){"use strict";var r=n(350);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),n={},r=0;r<e.length;++r)n[e[r]]=e[r];var a=Object.assign({},n),i="";for(var s in a)i+=s;return t!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?r:Object.assign:r}},function(t,e,n){"use strict";var r=n(351),a=n(247)(),i=n(353),s=Object,o=i("Array.prototype.push"),u=i("Object.prototype.propertyIsEnumerable"),c=a?Object.getOwnPropertySymbols:null;t.exports=function(t,e){if(null==t)throw new TypeError("target must be an object");var n=s(t);if(1===arguments.length)return n;for(var i=1;i<arguments.length;++i){var l=s(arguments[i]),d=r(l),h=a&&(Object.getOwnPropertySymbols||c);if(h)for(var p=h(l),f=0;f<p.length;++f){var m=p[f];u(l,m)&&o(d,m)}for(var b=0;b<d.length;++b){var g=d[b];if(u(l,g)){var y=l[g];n[g]=y}}}return n}},function(t,e,n){"use strict";var r=Array.prototype.slice,a=n(246),i=Object.keys,s=i?function(t){return i(t)}:n(352),o=Object.keys;s.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return a(t)?o(r.call(t)):o(t)}):Object.keys=s;return Object.keys||s},t.exports=s},function(t,e,n){"use strict";var r;if(!Object.keys){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=n(246),o=Object.prototype.propertyIsEnumerable,u=!o.call({toString:null},"toString"),c=o.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&a.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{d(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=s(t),o=e&&"[object String]"===i.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(o&&t.length>0&&!a.call(t,0))for(var m=0;m<t.length;++m)h.push(String(m));if(r&&t.length>0)for(var b=0;b<t.length;++b)h.push(String(b));else for(var g in t)f&&"prototype"===g||!a.call(t,g)||h.push(String(g));if(u)for(var y=function(t){if("undefined"==typeof window||!p)return d(t);try{return d(t)}catch(t){return!1}}(t),v=0;v<l.length;++v)y&&"constructor"===l[v]||!a.call(t,l[v])||h.push(l[v]);return h}}t.exports=r},function(t,e,n){"use strict";var r=n(137),a=n(363),i=a(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?a(n):n}},function(t,e,n){"use strict";t.exports=Error},function(t,e,n){"use strict";t.exports=EvalError},function(t,e,n){"use strict";t.exports=RangeError},function(t,e,n){"use strict";t.exports=ReferenceError},function(t,e,n){"use strict";t.exports=URIError},function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,a=n(247);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&a())))}},function(t,e,n){"use strict";var r={__proto__:null,foo:{}},a=Object;t.exports=function(){return{__proto__:r}.foo===r.foo&&!(r instanceof a)}},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",a=Object.prototype.toString,i=Math.max,s=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var a=0;a<e.length;a+=1)n[a+t.length]=e[a];return n},o=function(t,e){for(var n=[],r=e||0,a=0;r<t.length;r+=1,a+=1)n[a]=t[r];return n},u=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==a.apply(e))throw new TypeError(r+e);for(var n,c=o(arguments,1),l=function(){if(this instanceof n){var r=e.apply(this,s(c,arguments));return Object(r)===r?r:this}return e.apply(t,s(c,arguments))},d=i(0,e.length-c.length),h=[],p=0;p<d;p++)h[p]="$"+p;if(n=Function("binder","return function ("+u(h,",")+"){ return binder.apply(this,arguments); }")(l),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n}},function(t,e,n){"use strict";var r=Function.prototype.call,a=Object.prototype.hasOwnProperty,i=n(199);t.exports=i.call(r,a)},function(t,e,n){"use strict";var r=n(199),a=n(137),i=n(364),s=n(146),o=a("%Function.prototype.apply%"),u=a("%Function.prototype.call%"),c=a("%Reflect.apply%",!0)||r.call(u,o),l=n(200),d=a("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new s("a function is required");var e=c(r,u,arguments);return i(e,1+d(0,t.length-(arguments.length-1)),!0)};var h=function(){return c(r,o,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h},function(t,e,n){"use strict";var r=n(137),a=n(365),i=n(366)(),s=n(249),o=n(146),u=r("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new o("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||u(e)!==e)throw new o("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in t&&s){var l=s(t,"length");l&&!l.configurable&&(r=!1),l&&!l.writable&&(c=!1)}return(r||c||!n)&&(i?a(t,"length",e,!0,!0):a(t,"length",e)),t}},function(t,e,n){"use strict";var r=n(200),a=n(248),i=n(146),s=n(249);t.exports=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new i("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],d=!!s&&s(t,e);if(r)r(t,e,{configurable:null===c&&d?d.configurable:!c,enumerable:null===o&&d?d.enumerable:!o,value:n,writable:null===u&&d?d.writable:!u});else{if(!l&&(o||u||c))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}}},function(t,e,n){"use strict";var r=n(200),a=function(){return!!r};a.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=a},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r){(e=t.exports=n(250)).Stream=n(82),e.Readable=e,e.Writable=n(251),e.Duplex=n(109),e.Transform=n(252),e.PassThrough=n(372),r.browser||"disable"!==r.env.READABLE_STREAM||(t.exports=n(82))}).call(this,n(38))},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){},function(t,e,n){t.exports=i;var r=n(252),a=n(74);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}a.inherits=n(70),a.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e){t.exports=function(t,e){var n,r,a,i,s;function o(t,e,r,a,i){n[e][0]-=t*(n[e][0]-r)/1024,n[e][1]-=t*(n[e][1]-a)/1024,n[e][2]-=t*(n[e][2]-i)/1024}function u(t,e,r,a,i){for(var o,u,c=Math.abs(e-t),l=Math.min(e+t,256),d=e+1,h=e-1,p=1;d<l||h>c;)u=s[p++],d<l&&((o=n[d++])[0]-=u*(o[0]-r)/(1<<18),o[1]-=u*(o[1]-a)/(1<<18),o[2]-=u*(o[2]-i)/(1<<18)),h>c&&((o=n[h--])[0]-=u*(o[0]-r)/(1<<18),o[1]-=u*(o[1]-a)/(1<<18),o[2]-=u*(o[2]-i)/(1<<18))}function c(t,e,r){var s,o,u,c,l,d=~(1<<31),h=d,p=-1,f=p;for(s=0;s<256;s++)o=n[s],(u=Math.abs(o[0]-t)+Math.abs(o[1]-e)+Math.abs(o[2]-r))<d&&(d=u,p=s),(c=u-(a[s]>>12))<h&&(h=c,f=s),l=i[s]>>10,i[s]-=l,a[s]+=l<<10;return i[p]+=64,a[p]-=65536,f}this.buildColormap=function(){!function(){var t,e;for(n=[],r=new Int32Array(256),a=new Int32Array(256),i=new Int32Array(256),s=new Int32Array(32),t=0;t<256;t++)e=(t<<12)/256,n[t]=new Float64Array([e,e,e,0]),i[t]=256,a[t]=0}(),function(){var n,r,a,i,l,d,h=t.length,p=30+(e-1)/3,f=h/(3*e),m=~~(f/100),b=1024,g=2048,y=g>>6;for(y<=1&&(y=0),n=0;n<y;n++)s[n]=b*(256*(y*y-n*n)/(y*y));h<1509?(e=1,r=3):r=h%499!=0?1497:h%491!=0?1473:h%487!=0?1461:1509;var v=0;for(n=0;n<f;)if(o(b,d=c(a=(255&t[v])<<4,i=(255&t[v+1])<<4,l=(255&t[v+2])<<4),a,i,l),0!==y&&u(y,d,a,i,l),(v+=r)>=h&&(v-=h),0===m&&(m=1),++n%m==0)for(b-=b/p,(y=(g-=g/30)>>6)<=1&&(y=0),d=0;d<y;d++)s[d]=b*(256*(y*y-d*d)/(y*y))}(),function(){for(var t=0;t<256;t++)n[t][0]>>=4,n[t][1]>>=4,n[t][2]>>=4,n[t][3]=t}(),function(){var t,e,a,i,s,o,u=0,c=0;for(t=0;t<256;t++){for(s=t,o=(a=n[t])[1],e=t+1;e<256;e++)(i=n[e])[1]<o&&(s=e,o=i[1]);if(i=n[s],t!=s&&(e=i[0],i[0]=a[0],a[0]=e,e=i[1],i[1]=a[1],a[1]=e,e=i[2],i[2]=a[2],a[2]=e,e=i[3],i[3]=a[3],a[3]=e),o!=u){for(r[u]=c+t>>1,e=u+1;e<o;e++)r[e]=t;u=o,c=t}}for(r[u]=c+255>>1,e=u+1;e<256;e++)r[e]=255}()},this.getColormap=function(){for(var t=[],e=[],r=0;r<256;r++)e[n[r][3]]=r;for(var a=0,i=0;i<256;i++){var s=e[i];t[a++]=n[s][0],t[a++]=n[s][1],t[a++]=n[s][2]}return t},this.lookupRGB=function(t,e,a){for(var i,s,o,u=1e3,c=-1,l=r[e],d=l-1;l<256||d>=0;)l<256&&((o=(s=n[l])[1]-e)>=u?l=256:(l++,o<0&&(o=-o),(i=s[0]-t)<0&&(i=-i),(o+=i)<u&&((i=s[2]-a)<0&&(i=-i),(o+=i)<u&&(u=o,c=s[3])))),d>=0&&((o=e-(s=n[d])[1])>=u?d=-1:(d--,o<0&&(o=-o),(i=s[0]-t)<0&&(i=-i),(o+=i)<u&&((i=s[2]-a)<0&&(i=-i),(o+=i)<u&&(u=o,c=s[3]))));return c}}},function(t,e){var n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];t.exports=function(t,e,r,a){var i,s,o,u,c,l,d=Math.max(2,a),h=new Uint8Array(256),p=new Int32Array(5003),f=new Int32Array(5003),m=0,b=0,g=!1;function y(t,e){h[s++]=t,s>=254&&x(e)}function v(t){w(5003),b=c+2,g=!0,I(c,t)}function w(t){for(var e=0;e<t;++e)p[e]=-1}function x(t){s>0&&(t.writeByte(s),t.writeBytes(h,0,s),s=0)}function O(t){return(1<<t)-1}function k(){return 0===remaining?-1:(--remaining,255&r[curPixel++])}function I(t,e){for(i&=n[m],m>0?i|=t<<m:i=t,m+=n_bits;m>=8;)y(255&i,e),i>>=8,m-=8;if((b>o||g)&&(g?(o=O(n_bits=u),g=!1):(++n_bits,o=12==n_bits?4096:O(n_bits))),t==l){for(;m>0;)y(255&i,e),i>>=8,m-=8;x(e)}}this.encode=function(n){n.writeByte(d),remaining=t*e,curPixel=0,function(t,e){var n,r,a,i,d,h;for(u=t,g=!1,n_bits=u,o=O(n_bits),l=(c=1<<t-1)+1,b=c+2,s=0,i=k(),h=0,n=5003;n<65536;n*=2)++h;h=8-h,w(5003),I(c,e);t:for(;-1!=(r=k());)if(n=(r<<12)+i,p[a=r<<h^i]!==n){if(p[a]>=0){d=5003-a,0===a&&(d=1);do{if((a-=d)<0&&(a+=5003),p[a]===n){i=f[a];continue t}}while(p[a]>=0)}I(i,e),i=r,b<4096?(f[a]=b++,p[a]=n):v(e)}else i=f[a];I(i,e),I(l,e)}(d+1,n),n.writeByte(0)}}},function(t,e,n){"use strict";(function(t,r){var a=n(85),i=n(82),s=n(376),o=n(387),u=n(390),c=e.PNG=function(e){i.call(this),e=e||{},this.width=e.width||0,this.height=e.height||0,this.data=this.width>0&&this.height>0?new t(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new s(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new o(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};a.inherits(c,i),c.sync=u,c.prototype.pack=function(){return this.data&&this.data.length?(r.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},c.prototype.parse=function(t,e){var n,r;e&&(n=function(t){this.removeListener("error",r),this.data=t,e(null,this)}.bind(this),r=function(t){this.removeListener("parsed",n),e(t,null)}.bind(this),this.once("parsed",n),this.once("error",r));return this.end(t),this},c.prototype.write=function(t){return this._parser.write(t),!0},c.prototype.end=function(t){this._parser.end(t)},c.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},c.prototype._gamma=function(t){this.gamma=t},c.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},c.bitblt=function(t,e,n,r,a,i,s,o){if(n>t.width||r>t.height||n+a>t.width||r+i>t.height)throw new Error("bitblt reading outside image");if(s>e.width||o>e.height||s+a>e.width||o+i>e.height)throw new Error("bitblt writing outside image");for(var u=0;u<i;u++)t.data.copy(e.data,(o+u)*e.width+s<<2,(r+u)*t.width+n<<2,(r+u)*t.width+n+a<<2)},c.prototype.bitblt=function(t,e,n,r,a,i,s){return c.bitblt(this,t,e,n,r,a,i,s),this},c.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var n=0;n<t.width;n++)for(var r=t.width*e+n<<2,a=0;a<3;a++){var i=t.data[r+a]/255;i=Math.pow(i,1/2.2/t.gamma),t.data[r+a]=Math.round(255*i)}t.gamma=0}},c.prototype.adjustGamma=function(){c.adjustGamma(this)}}).call(this,n(29).Buffer,n(38))},function(t,e,n){"use strict";var r=n(85),a=n(147),i=n(255),s=n(386),o=n(259),u=n(261),c=n(262),l=t.exports=function(t){i.call(this),this._parser=new o(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};r.inherits(l,i),l.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this.errord=!0},l.prototype._inflateData=function(t){this._inflate||(this._inflate=a.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter)),this._inflate.write(t)},l.prototype._handleMetaData=function(t){this.emit("metadata",t),this._bitmapInfo=Object.create(t),this._filter=new s(this._bitmapInfo)},l.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},l.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},l.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},l.prototype._complete=function(t){if(!this.errord){try{var e=u.dataToBitMap(t,this._bitmapInfo),n=c(e,this._bitmapInfo);e=null}catch(t){return void this._handleError(t)}this.emit("parsed",n)}}},function(t,e,n){"use strict";(function(t,r){var a=n(198),i=n(378),s=n(379),o=n(382),u=n(385);for(var c in u)e[c]=u[c];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;function l(t){if("number"!=typeof t||t<e.DEFLATE||t>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==e.INFLATE&&this.mode!==e.GUNZIP&&this.mode!==e.INFLATERAW&&this.mode!==e.UNZIP||o.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null)},l.prototype.write=function(t,e,n,r,a,i,s){return this._write(!0,t,e,n,r,a,i,s)},l.prototype.writeSync=function(t,e,n,r,a,i,s){return this._write(!1,t,e,n,r,a,i,s)},l.prototype._write=function(n,i,s,o,u,c,l,d){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==e.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==e.Z_NO_FLUSH&&i!==e.Z_PARTIAL_FLUSH&&i!==e.Z_SYNC_FLUSH&&i!==e.Z_FULL_FLUSH&&i!==e.Z_FINISH&&i!==e.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=t.alloc(0),u=0,o=0),this.strm.avail_in=u,this.strm.input=s,this.strm.next_in=o,this.strm.avail_out=d,this.strm.output=c,this.strm.next_out=l,this.flush=i,!n)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return r.nextTick((function(){h._process(),h._after()})),this},l.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},l.prototype._process=function(){var t=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=e.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=o.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},l.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(t,n,r,i,s){a(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(t>=8&&t<=15,"invalid windowBits"),a(n>=-1&&n<=9,"invalid compression level"),a(r>=1&&r<=9,"invalid memlevel"),a(i===e.Z_FILTERED||i===e.Z_HUFFMAN_ONLY||i===e.Z_RLE||i===e.Z_FIXED||i===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,t,r,i,s),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(t,n,r,a,u){switch(this.level=t,this.windowBits=n,this.memLevel=r,this.strategy=a,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,this.mode!==e.GZIP&&this.mode!==e.GUNZIP||(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),this.mode!==e.DEFLATERAW&&this.mode!==e.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new i,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=s.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=o.inflateReset(this.strm)}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=l}).call(this,n(29).Buffer,n(38))},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";var r,a=n(148),i=n(380),s=n(253),o=n(254),u=n(381);function c(t,e){return t.msg=u[e],e}function l(t){return(t<<1)-(t>4?9:0)}function d(t){for(var e=t.length;--e>=0;)t[e]=0}function h(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(a.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function p(t,e){i._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,h(t.strm)}function f(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function b(t,e){var n,r,a=t.max_chain_length,i=t.strstart,s=t.prev_length,o=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,l=t.w_mask,d=t.prev,h=t.strstart+258,p=c[i+s-1],f=c[i+s];t.prev_length>=t.good_match&&(a>>=2),o>t.lookahead&&(o=t.lookahead);do{if(c[(n=e)+s]===f&&c[n+s-1]===p&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=258-(h-i),i=h-258,r>s){if(t.match_start=e,s=r,r>=o)break;p=c[i+s-1],f=c[i+s]}}}while((e=d[e&l])>u&&0!=--a);return s<=t.lookahead?s:t.lookahead}function g(t){var e,n,r,i,u,c,l,d,h,p,f=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-262)){a.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=f?r-f:0}while(--n);e=n=f;do{r=t.prev[--e],t.prev[e]=r>=f?r-f:0}while(--n);i+=f}if(0===t.strm.avail_in)break;if(c=t.strm,l=t.window,d=t.strstart+t.lookahead,h=i,p=void 0,(p=c.avail_in)>h&&(p=h),n=0===p?0:(c.avail_in-=p,a.arraySet(l,c.input,c.next_in,p,d),1===c.state.wrap?c.adler=s(c.adler,l,p,d):2===c.state.wrap&&(c.adler=o(c.adler,l,p,d)),c.next_in+=p,c.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function y(t,e){for(var n,r;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=b(t,n)),t.match_length>=3)if(r=i._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function v(t,e){for(var n,r,a;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=b(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-3,r=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(p(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=i._tr_tally(t,0,t.window[t.strstart-1]))&&p(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function w(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(1146),this.dyn_dtree=new a.Buf16(122),this.bl_tree=new a.Buf16(78),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(16),this.heap=new a.Buf16(573),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(573),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,i._tr_init(e),0):c(t,-2)}function k(t){var e,n=O(t);return 0===n&&((e=t.state).window_size=2*e.w_size,d(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function I(t,e,n,r,i,s){if(!t)return-2;var o=1;if(-1===e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||8!==n||r<8||r>15||e<0||e>9||s<0||s>4)return c(t,-2);8===r&&(r=9);var u=new x;return t.state=u,u.strm=t,u.wrap=o,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new a.Buf8(2*u.w_size),u.head=new a.Buf16(u.hash_size),u.prev=new a.Buf16(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new a.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=n,k(t)}r=[new w(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(g(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,p(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(p(t,!1),t.strm.avail_out),1)})),new w(4,4,8,4,y),new w(4,5,16,8,y),new w(4,6,32,32,y),new w(4,4,16,16,v),new w(8,16,32,32,v),new w(8,16,128,128,v),new w(8,32,128,256,v),new w(32,128,258,1024,v),new w(32,258,258,4096,v)],e.deflateInit=function(t,e){return I(t,e,8,15,8,0)},e.deflateInit2=I,e.deflateReset=k,e.deflateResetKeep=O,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,a,s,u;if(!t||!t.state||e>5||e<0)return t?c(t,-2):-2;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||666===a.status&&4!==e)return c(t,0===t.avail_out?-5:-2);if(a.strm=t,n=a.last_flush,a.last_flush=e,42===a.status)if(2===a.wrap)t.adler=0,f(a,31),f(a,139),f(a,8),a.gzhead?(f(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),f(a,255&a.gzhead.time),f(a,a.gzhead.time>>8&255),f(a,a.gzhead.time>>16&255),f(a,a.gzhead.time>>24&255),f(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),f(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(f(a,255&a.gzhead.extra.length),f(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=o(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(f(a,0),f(a,0),f(a,0),f(a,0),f(a,0),f(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),f(a,3),a.status=113);else{var b=8+(a.w_bits-8<<4)<<8;b|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(b|=32),b+=31-b%31,a.status=113,m(a,b),0!==a.strstart&&(m(a,t.adler>>>16),m(a,65535&t.adler)),t.adler=1}if(69===a.status)if(a.gzhead.extra){for(s=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),h(t),s=a.pending,a.pending!==a.pending_buf_size));)f(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),h(t),s=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,f(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),0===u&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),h(t),s=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,f(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>s&&(t.adler=o(t.adler,a.pending_buf,a.pending-s,s)),0===u&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&h(t),a.pending+2<=a.pending_buf_size&&(f(a,255&t.adler),f(a,t.adler>>8&255),t.adler=0,a.status=113)):a.status=113),0!==a.pending){if(h(t),0===t.avail_out)return a.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return c(t,-5);if(666===a.status&&0!==t.avail_in)return c(t,-5);if(0!==t.avail_in||0!==a.lookahead||0!==e&&666!==a.status){var y=2===a.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(g(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(a,e):3===a.strategy?function(t,e){for(var n,r,a,s,o=t.window;;){if(t.lookahead<=258){if(g(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[a=t.strstart-1])===o[++a]&&r===o[++a]&&r===o[++a]){s=t.strstart+258;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<s);t.match_length=258-(s-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=i._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(a,e):r[a.level].func(a,e);if(3!==y&&4!==y||(a.status=666),1===y||3===y)return 0===t.avail_out&&(a.last_flush=-1),0;if(2===y&&(1===e?i._tr_align(a):5!==e&&(i._tr_stored_block(a,0,0,!1),3===e&&(d(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),h(t),0===t.avail_out))return a.last_flush=-1,0}return 4!==e?0:a.wrap<=0?1:(2===a.wrap?(f(a,255&t.adler),f(a,t.adler>>8&255),f(a,t.adler>>16&255),f(a,t.adler>>24&255),f(a,255&t.total_in),f(a,t.total_in>>8&255),f(a,t.total_in>>16&255),f(a,t.total_in>>24&255)):(m(a,t.adler>>>16),m(a,65535&t.adler)),h(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?c(t,-2):(t.state=null,113===e?c(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,r,i,o,u,c,l,h,p=e.length;if(!t||!t.state)return-2;if(2===(o=(n=t.state).wrap)||1===o&&42!==n.status||n.lookahead)return-2;for(1===o&&(t.adler=s(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===o&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new a.Buf8(n.w_size),a.arraySet(h,e,p-n.w_size,n.w_size,0),e=h,p=n.w_size),u=t.avail_in,c=t.next_in,l=t.input,t.avail_in=p,t.next_in=0,t.input=e,g(n);n.lookahead>=3;){r=n.strstart,i=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=l,t.avail_in=u,n.wrap=o,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(148);function a(t){for(var e=t.length;--e>=0;)t[e]=0}var i=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);a(c);var l=new Array(60);a(l);var d=new Array(512);a(d);var h=new Array(256);a(h);var p=new Array(29);a(p);var f,m,b,g=new Array(30);function y(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?d[t]:d[256+(t>>>7)]}function x(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function O(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function k(t,e,n){O(t,n[2*e],n[2*e+1])}function I(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function S(t,e,n){var r,a,i=new Array(16),s=0;for(r=1;r<=15;r++)i[r]=s=s+n[r-1]<<1;for(a=0;a<=e;a++){var o=t[2*a+1];0!==o&&(t[2*a]=I(i[o]++,o))}}function j(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function _(t){t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function N(t,e,n,r){var a=2*e,i=2*n;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]}function T(t,e,n){for(var r=t.heap[n],a=n<<1;a<=t.heap_len&&(a<t.heap_len&&N(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!N(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r}function E(t,e,n){var r,a,o,u,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],a=t.pending_buf[t.l_buf+c],c++,0===r?k(t,a,e):(k(t,(o=h[a])+256+1,e),0!==(u=i[o])&&O(t,a-=p[o],u),k(t,o=w(--r),n),0!==(u=s[o])&&O(t,r-=g[o],u))}while(c<t.last_lit);k(t,256,e)}function C(t,e){var n,r,a,i=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==i[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(a=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[a]=0,t.opt_len--,o&&(t.static_len-=s[2*a+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)T(t,i,n);a=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],T(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*a]=i[2*n]+i[2*r],t.depth[a]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=a,t.heap[1]=a++,T(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,a,i,s,o,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,m=0;for(i=0;i<=15;i++)t.bl_count[i]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(i=u[2*u[2*(r=t.heap[n])+1]+1]+1)>f&&(i=f,m++),u[2*r+1]=i,r>c||(t.bl_count[i]++,s=0,r>=p&&(s=h[r-p]),o=u[2*r],t.opt_len+=o*(i+s),d&&(t.static_len+=o*(l[2*r+1]+s)));if(0!==m){do{for(i=f-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[f]--,m-=2}while(m>0);for(i=f;0!==i;i--)for(r=t.bl_count[i];0!==r;)(a=t.heap[--n])>c||(u[2*a+1]!==i&&(t.opt_len+=(i-u[2*a+1])*u[2*a],u[2*a+1]=i),r--)}}(t,e),S(i,c,t.bl_count)}function A(t,e,n){var r,a,i=-1,s=e[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)a=s,s=e[2*(r+1)+1],++o<u&&a===s||(o<c?t.bl_tree[2*a]+=o:0!==a?(a!==i&&t.bl_tree[2*a]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,i=a,0===s?(u=138,c=3):a===s?(u=6,c=3):(u=7,c=4))}function R(t,e,n){var r,a,i=-1,s=e[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),r=0;r<=n;r++)if(a=s,s=e[2*(r+1)+1],!(++o<u&&a===s)){if(o<c)do{k(t,a,t.bl_tree)}while(0!=--o);else 0!==a?(a!==i&&(k(t,a,t.bl_tree),o--),k(t,16,t.bl_tree),O(t,o-3,2)):o<=10?(k(t,17,t.bl_tree),O(t,o-3,3)):(k(t,18,t.bl_tree),O(t,o-11,7));o=0,i=a,0===s?(u=138,c=3):a===s?(u=6,c=3):(u=7,c=4)}}a(g);var $=!1;function F(t,e,n,a){O(t,0+(a?1:0),3),function(t,e,n,a){_(t),a&&(x(t,n),x(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){$||(!function(){var t,e,n,r,a,u=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,t=0;t<1<<i[r];t++)h[n++]=r;for(h[n-1]=r,a=0,r=0;r<16;r++)for(g[r]=a,t=0;t<1<<s[r];t++)d[a++]=r;for(a>>=7;r<30;r++)for(g[r]=a<<7,t=0;t<1<<s[r]-7;t++)d[256+a++]=r;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(S(c,287,u),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=I(t,5);f=new y(c,i,257,286,15),m=new y(l,s,0,30,15),b=new y(new Array(0),o,0,19,7)}(),$=!0),t.l_desc=new v(t.dyn_ltree,f),t.d_desc=new v(t.dyn_dtree,m),t.bl_desc=new v(t.bl_tree,b),t.bi_buf=0,t.bi_valid=0,j(t)},e._tr_stored_block=F,e._tr_flush_block=function(t,e,n,r){var a,i,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),C(t,t.l_desc),C(t,t.d_desc),s=function(t){var e;for(A(t,t.dyn_ltree,t.l_desc.max_code),A(t,t.dyn_dtree,t.d_desc.max_code),C(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),a=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==e?F(t,e,n,r):4===t.strategy||i===a?(O(t,2+(r?1:0),3),E(t,c,l)):(O(t,4+(r?1:0),3),function(t,e,n,r){var a;for(O(t,e-257,5),O(t,n-1,5),O(t,r-4,4),a=0;a<r;a++)O(t,t.bl_tree[2*u[a]+1],3);R(t,t.dyn_ltree,e-1),R(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),E(t,t.dyn_ltree,t.dyn_dtree)),j(t),r&&_(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(h[n]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){O(t,2,3),k(t,256,c),function(t){16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";var r=n(148),a=n(253),i=n(254),s=n(383),o=n(384);function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,l(t)):-2}function h(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,d(t))):-2}function p(t,e){var n,r;return t?(r=new c,t.state=r,r.window=null,0!==(n=h(t,e))&&(t.state=null),n):-2}var f,m,b=!0;function g(t){if(b){var e;for(f=new r.Buf32(512),m=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,f,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,m,0,t.work,{bits:5}),b=!1}t.lencode=f,t.lenbits=9,t.distcode=m,t.distbits=5}function y(t,e,n,a){var i,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),a>=s.wsize?(r.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>a&&(i=a),r.arraySet(s.window,e,n-a,i,s.wnext),(a-=i)?(r.arraySet(s.window,e,n-a,a,0),s.wnext=a,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}e.inflateReset=d,e.inflateReset2=h,e.inflateResetKeep=l,e.inflateInit=function(t){return p(t,15)},e.inflateInit2=p,e.inflate=function(t,e){var n,c,l,d,h,p,f,m,b,v,w,x,O,k,I,S,j,_,N,T,E,C,A,R,$=0,F=new r.Buf8(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),h=t.next_out,l=t.output,f=t.avail_out,d=t.next_in,c=t.input,p=t.avail_in,m=n.hold,b=n.bits,v=p,w=f,C=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(2&n.wrap&&35615===m){n.check=0,F[0]=255&m,F[1]=m>>>8&255,n.check=i(n.check,F,2,0),m=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(b-=4,E=8+(15&(m>>>=4)),0===n.wbits)n.wbits=E;else if(E>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<E,t.adler=n.check=1,n.mode=512&m?10:12,m=0,b=0;break;case 2:for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=i(n.check,F,2,0)),m=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.head&&(n.head.time=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,F[2]=m>>>16&255,F[3]=m>>>24&255,n.check=i(n.check,F,4,0)),m=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=i(n.check,F,2,0)),m=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(F[0]=255&m,F[1]=m>>>8&255,n.check=i(n.check,F,2,0)),m=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>p&&(x=p),x&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,d,x,E)),512&n.flags&&(n.check=i(n.check,c,x,d)),p-=x,d+=x,n.length-=x),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break t;x=0;do{E=c[d+x++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&x<p);if(512&n.flags&&(n.check=i(n.check,c,x,d)),p-=x,d+=x,E)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break t;x=0;do{E=c[d+x++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&x<p);if(512&n.flags&&(n.check=i(n.check,c,x,d)),p-=x,d+=x,E)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}m=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}t.adler=n.check=u(m),m=0,b=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=h,t.avail_out=f,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=b,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}switch(n.last=1&m,b-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(g(n),n.mode=20,6===e){m>>>=2,b-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,b-=2;break;case 14:for(m>>>=7&b,b-=7&b;b<32;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,b=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(x=n.length){if(x>p&&(x=p),x>f&&(x=f),0===x)break t;r.arraySet(l,c,d,x,h),p-=x,d+=x,f-=x,h+=x,n.length-=x;break}n.mode=12;break;case 17:for(;b<14;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(n.nlen=257+(31&m),m>>>=5,b-=5,n.ndist=1+(31&m),m>>>=5,b-=5,n.ncode=4+(15&m),m>>>=4,b-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.lens[D[n.have++]]=7&m,m>>>=3,b-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},C=o(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,C){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=($=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,j=65535&$,!((I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(j<16)m>>>=I,b-=I,n.lens[n.have++]=j;else{if(16===j){for(R=I+2;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(m>>>=I,b-=I,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}E=n.lens[n.have-1],x=3+(3&m),m>>>=2,b-=2}else if(17===j){for(R=I+3;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}b-=I,E=0,x=3+(7&(m>>>=I)),m>>>=3,b-=3}else{for(R=I+7;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}b-=I,E=0,x=11+(127&(m>>>=I)),m>>>=7,b-=7}if(n.have+x>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=E}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,A={bits:n.lenbits},C=o(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,C){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},C=o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,C){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(p>=6&&f>=258){t.next_out=h,t.avail_out=f,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=b,s(t,w),h=t.next_out,l=t.output,f=t.avail_out,d=t.next_in,c=t.input,p=t.avail_in,m=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=($=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,j=65535&$,!((I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(S&&0==(240&S)){for(_=I,N=S,T=j;S=($=n.lencode[T+((m&(1<<_+N)-1)>>_)])>>>16&255,j=65535&$,!(_+(I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}m>>>=_,b-=_,n.back+=_}if(m>>>=I,b-=I,n.back+=I,n.length=j,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(R=n.extra;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=($=n.distcode[m&(1<<n.distbits)-1])>>>16&255,j=65535&$,!((I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(0==(240&S)){for(_=I,N=S,T=j;S=($=n.distcode[T+((m&(1<<_+N)-1)>>_)])>>>16&255,j=65535&$,!(_+(I=$>>>24)<=b);){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}m>>>=_,b-=_,n.back+=_}if(m>>>=I,b-=I,n.back+=I,64&S){t.msg="invalid distance code",n.mode=30;break}n.offset=j,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(R=n.extra;b<R;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===f)break t;if(x=w-f,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}x>n.wnext?(x-=n.wnext,O=n.wsize-x):O=n.wnext-x,x>n.length&&(x=n.length),k=n.window}else k=l,O=h-n.offset,x=n.length;x>f&&(x=f),f-=x,n.length-=x;do{l[h++]=k[O++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===f)break t;l[h++]=n.length,f--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===p)break t;p--,m|=c[d++]<<b,b+=8}if(w-=f,t.total_out+=w,n.total+=w,w&&(t.adler=n.check=n.flags?i(n.check,l,w,h-w):a(n.check,l,w,h-w)),w=f,(n.flags?m:u(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}m=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===p)break t;p--,m+=c[d++]<<b,b+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}m=0,b=0}n.mode=29;case 29:C=1;break t;case 30:C=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=h,t.avail_out=f,t.next_in=d,t.avail_in=p,n.hold=m,n.bits=b,(n.wsize||w!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&y(t,t.output,t.next_out,w-t.avail_out)?(n.mode=31,-4):(v-=t.avail_in,w-=t.avail_out,t.total_in+=v,t.total_out+=w,n.total+=w,n.wrap&&w&&(t.adler=n.check=n.flags?i(n.check,l,w,t.next_out-w):a(n.check,l,w,t.next_out-w)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===v&&0===w||4===e)&&0===C&&(C=-5),C)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&a(1,e,r,0)!==n.check?-3:y(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,a,i,s,o,u,c,l,d,h,p,f,m,b,g,y,v,w,x,O,k,I,S,j;n=t.state,r=t.next_in,S=t.input,a=r+(t.avail_in-5),i=t.next_out,j=t.output,s=i-(e-t.avail_out),o=i+(t.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,d=n.wnext,h=n.window,p=n.hold,f=n.bits,m=n.lencode,b=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{f<15&&(p+=S[r++]<<f,f+=8,p+=S[r++]<<f,f+=8),v=m[p&g];e:for(;;){if(p>>>=w=v>>>24,f-=w,0===(w=v>>>16&255))j[i++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=m[(65535&v)+(p&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&v,(w&=15)&&(f<w&&(p+=S[r++]<<f,f+=8),x+=p&(1<<w)-1,p>>>=w,f-=w),f<15&&(p+=S[r++]<<f,f+=8,p+=S[r++]<<f,f+=8),v=b[p&y];n:for(;;){if(p>>>=w=v>>>24,f-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=b[(65535&v)+(p&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(O=65535&v,f<(w&=15)&&(p+=S[r++]<<f,(f+=8)<w&&(p+=S[r++]<<f,f+=8)),(O+=p&(1<<w)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=w,f-=w,O>(w=i-s)){if((w=O-w)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,I=h,0===d){if(k+=c-w,w<x){x-=w;do{j[i++]=h[k++]}while(--w);k=i-O,I=j}}else if(d<w){if(k+=c+d-w,(w-=d)<x){x-=w;do{j[i++]=h[k++]}while(--w);if(k=0,d<x){x-=w=d;do{j[i++]=h[k++]}while(--w);k=i-O,I=j}}}else if(k+=d-w,w<x){x-=w;do{j[i++]=h[k++]}while(--w);k=i-O,I=j}for(;x>2;)j[i++]=I[k++],j[i++]=I[k++],j[i++]=I[k++],x-=3;x&&(j[i++]=I[k++],x>1&&(j[i++]=I[k++]))}else{k=i-O;do{j[i++]=j[k++],j[i++]=j[k++],j[i++]=j[k++],x-=3}while(x>2);x&&(j[i++]=j[k++],x>1&&(j[i++]=j[k++]))}break}}break}}while(r<a&&i<o);r-=x=f>>3,p&=(1<<(f-=x<<3))-1,t.next_in=r,t.next_out=i,t.avail_in=r<a?a-r+5:5-(r-a),t.avail_out=i<o?o-i+257:257-(i-o),n.hold=p,n.bits=f}},function(t,e,n){"use strict";var r=n(148),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,c,l,d,h){var p,f,m,b,g,y,v,w,x,O=h.bits,k=0,I=0,S=0,j=0,_=0,N=0,T=0,E=0,C=0,A=0,R=null,$=0,F=new r.Buf16(16),D=new r.Buf16(16),M=null,L=0;for(k=0;k<=15;k++)F[k]=0;for(I=0;I<u;I++)F[e[n+I]]++;for(_=O,j=15;j>=1&&0===F[j];j--);if(_>j&&(_=j),0===j)return c[l++]=20971520,c[l++]=20971520,h.bits=1,0;for(S=1;S<j&&0===F[S];S++);for(_<S&&(_=S),E=1,k=1;k<=15;k++)if(E<<=1,(E-=F[k])<0)return-1;if(E>0&&(0===t||1!==j))return-1;for(D[1]=0,k=1;k<15;k++)D[k+1]=D[k]+F[k];for(I=0;I<u;I++)0!==e[n+I]&&(d[D[e[n+I]]++]=I);if(0===t?(R=M=d,y=19):1===t?(R=a,$-=257,M=i,L-=257,y=256):(R=s,M=o,y=-1),A=0,I=0,k=S,g=l,N=_,T=0,m=-1,b=(C=1<<_)-1,1===t&&C>852||2===t&&C>592)return 1;for(;;){v=k-T,d[I]<y?(w=0,x=d[I]):d[I]>y?(w=M[L+d[I]],x=R[$+d[I]]):(w=96,x=0),p=1<<k-T,S=f=1<<N;do{c[g+(A>>T)+(f-=p)]=v<<24|w<<16|x|0}while(0!==f);for(p=1<<k-1;A&p;)p>>=1;if(0!==p?(A&=p-1,A+=p):A=0,I++,0==--F[k]){if(k===j)break;k=e[n+d[I]]}if(k>_&&(A&b)!==m){for(0===T&&(T=_),g+=S,E=1<<(N=k-T);N+T<j&&!((E-=F[N+T])<=0);)N++,E<<=1;if(C+=1<<N,1===t&&C>852||2===t&&C>592)return 1;c[m=A&b]=_<<24|N<<16|g-l|0}}return 0!==A&&(c[g+A]=k-T<<24|64<<16|0),h.bits=_,0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";(function(e){var r=n(85),a=n(255),i=n(256),s=t.exports=function(t){a.call(this);var n=[],r=this;this._filter=new i(t,{read:this.read.bind(this),write:function(t){n.push(t)},complete:function(){r.emit("complete",e.concat(n))}}),this._filter.start()};r.inherits(s,a)}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(85),a=n(82),i=n(138),s=n(263),o=t.exports=function(t){a.call(this);var e=t||{};this._packer=new s(e),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(o,a),o.prototype.pack=function(t,n,r,a){this.emit("data",new e(i.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(n,r)),a&&this.emit("data",this._packer.packGAMA(a));var s=this._packer.filterData(t,n,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(t){this.emit("data",this._packer.packIDAT(t))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(s)}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(138);t.exports=function(t,n,a,i){var s=i.colorType===r.COLORTYPE_COLOR_ALPHA;if(i.inputHasAlpha&&s)return t;if(!i.inputHasAlpha&&!s)return t;var o=s?4:3,u=new e(n*a*o),c=i.inputHasAlpha?4:3,l=0,d=0,h=i.bgColor||{};void 0===h.red&&(h.red=255),void 0===h.green&&(h.green=255),void 0===h.blue&&(h.blue=255);for(var p=0;p<a;p++)for(var f=0;f<n;f++){var m,b=t[l],g=t[l+1],y=t[l+2];i.inputHasAlpha?(m=t[l+3],s||(m/=255,b=Math.min(Math.max(Math.round((1-m)*h.red+m*b),0),255),g=Math.min(Math.max(Math.round((1-m)*h.green+m*g),0),255),y=Math.min(Math.max(Math.round((1-m)*h.blue+m*y),0),255))):m=255,u[d]=b,u[d+1]=g,u[d+2]=y,s&&(u[d+3]=m),l+=c,d+=o}return u}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(258);var a={0:function(t,e,n,r,a){t.copy(r,a,e,e+n)},1:function(t,e,n,r,a,i){for(var s=0;s<n;s++){var o=s>=i?t[e+s-i]:0,u=t[e+s]-o;r[a+s]=u}},2:function(t,e,n,r,a){for(var i=0;i<n;i++){var s=e>0?t[e+i-n]:0,o=t[e+i]-s;r[a+i]=o}},3:function(t,e,n,r,a,i){for(var s=0;s<n;s++){var o=s>=i?t[e+s-i]:0,u=e>0?t[e+s-n]:0,c=t[e+s]-(o+u>>1);r[a+s]=c}},4:function(t,e,n,a,i,s){for(var o=0;o<n;o++){var u=o>=s?t[e+o-s]:0,c=e>0?t[e+o-n]:0,l=e>0&&o>=s?t[e+o-(n+s)]:0,d=t[e+o]-r(u,c,l);a[i+o]=d}}},i={0:function(t,e,n){for(var r=0,a=e+n,i=e;i<a;i++)r+=Math.abs(t[i]);return r},1:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var s=i>=r?t[e+i-r]:0,o=t[e+i]-s;a+=Math.abs(o)}return a},2:function(t,e,n){for(var r=0,a=e+n,i=e;i<a;i++){var s=e>0?t[i-n]:0,o=t[i]-s;r+=Math.abs(o)}return r},3:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var s=i>=r?t[e+i-r]:0,o=e>0?t[e+i-n]:0,u=t[e+i]-(s+o>>1);a+=Math.abs(u)}return a},4:function(t,e,n,a){for(var i=0,s=0;s<n;s++){var o=s>=a?t[e+s-a]:0,u=e>0?t[e+s-n]:0,c=e>0&&s>=a?t[e+s-(n+a)]:0,l=t[e+s]-r(o,u,c);i+=Math.abs(l)}return i}};t.exports=function(t,n,r,s,o){var u;if("filterType"in s&&-1!==s.filterType){if("number"!=typeof s.filterType)throw new Error("unrecognised filter types");u=[s.filterType]}else u=[0,1,2,3,4];for(var c=n*o,l=0,d=0,h=new e((c+1)*r),p=u[0],f=0;f<r;f++){if(u.length>1)for(var m=1/0,b=0;b<u.length;b++){var g=i[u[b]](t,d,c,o);g<m&&(p=u[b],m=g)}h[l]=p,l++,a[p](t,d,c,h,l,o),l+=c,d+=c}return h}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";var r=n(391),a=n(393);e.read=function(t,e){return r(t,e||{})},e.write=function(t){return a(t)}},function(t,e,n){"use strict";(function(e){var r=!0,a=n(147);a.deflateSync||(r=!1);var i=n(264),s=n(392),o=n(259),u=n(261),c=n(262);t.exports=function(t,n){if(!r)throw new Error("To use the sync capability of this library in old node versions, please also add a dependency on node-zlb-backport");var l,d,h;var p=[];var f=new i(t);if(new o(n,{read:f.read.bind(f),error:function(t){l=t},metadata:function(t){d=t},gamma:function(t){h=t},palette:function(t){d.palette=t},transColor:function(t){d.transColor=t},inflateData:function(t){p.push(t)}}).start(),f.process(),l)throw l;var m=e.concat(p);p.length=0;var b=a.inflateSync(m);if(m=null,!b||!b.length)throw new Error("bad png - invalid inflate data response");var g=s.process(b,d);m=null;var y=u.dataToBitMap(g,d);g=null;var v=c(y,d);return d.data=v,d.gamma=h||0,d}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(t){var r=n(264),a=n(256);e.process=function(e,n){var i=[],s=new r(e);return new a(n,{read:s.read.bind(s),write:function(t){i.push(t)},complete:function(){}}).start(),s.process(),t.concat(i)}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";(function(e){var r=!0,a=n(147);a.deflateSync||(r=!1);var i=n(138),s=n(263);t.exports=function(t,n){if(!r)throw new Error("To use the sync capability of this library in old node versions, please also add a dependency on node-zlb-backport");var o=new s(n||{}),u=[];u.push(new e(i.PNG_SIGNATURE)),u.push(o.packIHDR(t.width,t.height)),t.gamma&&u.push(o.packGAMA(t.gamma));var c=o.filterData(t.data,t.width,t.height),l=a.deflateSync(c,o.getDeflateOptions());if(c=null,!l||!l.length)throw new Error("bad png - invalid compressed data response");return u.push(o.packIDAT(l)),u.push(o.packIEND()),e.concat(u)}}).call(this,n(29).Buffer)},function(t,e,n){"use strict";var r=n(240),a={body:"",args:[],thisVars:[],localVars:[]};function i(t){if(!t)return a;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function s(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return r({args:t.args,pre:i(t.pre),body:i(t.body),post:i(t.proc),funcName:t.funcName})}(t))}var o={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in o){var n=o[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var n=u[t];e[t]=s({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var n=c[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var n=l[t];e[n]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var d=["max","min","atan2","pow"];!function(){for(var t=0;t<d.length;++t){var n=d[t];e[n]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var h=["atan2","pow"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=r({args:["array"],pre:a,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=r({args:["array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=r({args:["array","array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomObserver=void 0;var r=n(396),a=n(397),i=function(){function t(t){this.imageFilter=new r.ImageFilter(t),this.videoFilter=new a.VideoFilter(t),this.observer=new MutationObserver(this.callback.bind(this)),this.running=!1}return t.prototype.watch=function(){if(!this.running){for(var e=document.getElementsByTagName("img"),n=0;n<e.length;n++)this.imageFilter.analyzeImage(e[n],!1);var r=document.getElementsByTagName("video");for(n=0;n<r.length;n++)this.videoFilter.analyzeVideo(r[n]);this.observer.observe(document,t.getConfig()),this.running=!0}},t.prototype.stop=function(){this.running&&(this.observer.disconnect(),this.running=!1)},t.prototype.callback=function(t){for(var e=0;e<t.length;e++){var n=t[e];"childList"===n.type&&n.addedNodes.length>0?this.findAndChecksAllTags(n.target):"attributes"===n.type&&this.checkAttributeMutation(n)}},t.prototype.findAndChecksAllTags=function(t){for(var e=t.getElementsByTagName("img"),n=0;n<e.length;n++)this.imageFilter.analyzeImage(e[n],!1);var r=t.getElementsByTagName("video");for(n=0;n<r.length;n++)this.videoFilter.analyzeVideo(r[n])},t.prototype.checkAttributeMutation=function(t){"IMG"===t.target.nodeName&&this.imageFilter.analyzeImage(t.target,"src"===t.attributeName),"VIDEO"===t.target.nodeName&&this.videoFilter.analyzeVideo(t.target)},t.getConfig=function(){return{characterData:!1,subtree:!0,childList:!0,attributes:!0,attributeFilter:["src"]}},t}();e.DomObserver=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageFilter=void 0;var r=function(){function t(t){this.MIN_IMAGE_SIZE=41,this.queue=t}return t.prototype.analyzeImage=function(t,e){var n=this;(e||void 0===t.dataset.nsfwFilterStatus)&&t.src.length>0&&(t.width>this.MIN_IMAGE_SIZE&&t.height>this.MIN_IMAGE_SIZE||0===t.height||0===t.width)&&(t.dataset.nsfwFilterStatus="processing",t.complete||e?this._analyzeImage(t):t.onload=function(){n._analyzeImage(t)})},t.prototype._analyzeImage=function(t){t.crossOrigin="anonymous",this.queue.predict(t,(function(e){t.style.filter=e?"blur(25px)":"",t.style.transform="",t.crossOrigin=""}),(function(e){t.style.filter="grayscale(1)",t.crossOrigin=""}))},t}();e.ImageFilter=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoFilter=void 0;var r=function(){function t(t){this.MIN_IMAGE_SIZE=41,this.queue=t}return t.prototype.analyzeVideo=function(t){void 0===t.dataset.nsfwAnalysis&&(t.width>this.MIN_IMAGE_SIZE&&t.height>this.MIN_IMAGE_SIZE||0===t.height||0===t.width)&&this._startVideoAnalysis(t)},t.prototype._startVideoAnalysis=function(t){var e=this;t.dataset.nsfwAnalysis="analyzing";var n=document.createElement("canvas");n.width=224,n.height=224;var r=n.getContext("2d",{willReadFrequently:!0}),a=Date.now(),i=function(){var s=Date.now();if(s-a<1e3)t.requestVideoFrameCallback(i);else{a=s;var o=e._getImageFromVideo(t,n,r);void 0!==o&&e.queue.predict(o,(function(n){n?e._blurVideo(t):e._unblurVideo(t)}),(function(t){})),t.requestVideoFrameCallback(i)}};t.requestVideoFrameCallback(i)},t.prototype._getImageFromVideo=function(t,e,n){return null==n||n.drawImage(t,0,0,e.width,e.height),null==n?void 0:n.getImageData(0,0,e.width,e.height)},t.prototype._blurVideo=function(t){t.style.filter="blur(25px)"},t.prototype._unblurVideo=function(t){t.style.filter=""},t}();e.VideoFilter=r},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function o(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,a,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){a={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var o=function(){function t(t,e){this.model=t,this.FILTER_LIST=new Set(["Hentai","Porn","Sexy"]),this.firstFilterPercentages=new Map,this.secondFilterPercentages=new Map,this.setSettings(e)}return t.prototype.setSettings=function(e){var n,r,a,s,o=e.filterStrictness;this.firstFilterPercentages.clear(),this.secondFilterPercentages.clear();try{for(var u=i(this.FILTER_LIST.values()),c=u.next();!c.done;c=u.next()){var l=c.value;this.firstFilterPercentages.set(l,t.handleFilterStrictness({value:o,maxValue:100,minValue:"Porn"===l?40:60}))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}try{for(var d=i(this.FILTER_LIST.values()),h=d.next();!h.done;h=d.next()){l=h.value;this.secondFilterPercentages.set(l,t.handleFilterStrictness({value:o,maxValue:50,minValue:"Porn"===l?15:25}))}}catch(t){a={error:t}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}},t.prototype.predictImage=function(t){return r(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,this.model.classify(t,2)];case 1:return e=n.sent(),[2,this.handlePrediction(e).result]}}))}))},t.prototype.handlePrediction=function(t){var e=s(t,2),n=e[0],r=n.className,a=n.probability,i=e[1],o=i.className,u=i.probability,c=this.FILTER_LIST.has(r)&&a>this.firstFilterPercentages.get(r);if(c)return{result:c,className:r,probability:a};var l=this.FILTER_LIST.has(o)&&u>this.secondFilterPercentages.get(o);return l?{result:l,className:o,probability:u}:{result:!1,className:r,probability:a}},t.handleFilterStrictness=function(t){var e=t.value,n=t.minValue,r=t.maxValue,a=n,i=r;return Math.round(function(t){return t<=1?i:t>=100?a:(1-t/100)*(i-a)+a}(e)/100*1e4)/1e4},t}();e.Model=o},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PredictionQueue=void 0;var a=r(n(400)),i=function(){function t(t){this.model=t,this.queue=new a.default({concurrent:1,interval:0})}return t.prototype.predict=function(t,e,n){var r=this;this.queue.add((function(){return r.model.predictImage(t).then(e).catch(n)}))},t}();e.PredictionQueue=i},function(t,e,n){"use strict";var r,a=(r=n(108))&&r.__esModule?r:{default:r};function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?i(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const u=0,c=1,l=2;class d extends a.default{constructor(t={}){super(),o(this,"tasks",new Map),o(this,"uniqueId",0),o(this,"lastRan",0),o(this,"currentlyHandled",0),o(this,"state",u),o(this,"options",{concurrent:5,interval:500,start:!0}),this.options=s(s({},this.options),t),this.options.interval=parseInt(this.options.interval,10),this.options.concurrent=parseInt(this.options.concurrent,10)}start(){this.state===c||this.isEmpty||(this.state=c,this.emit("start"),(async()=>{for(;this.shouldRun;)await this.dequeue()})())}stop(){clearTimeout(this.timeoutId),this.state=l,this.emit("stop")}finalize(){this.currentlyHandled-=1,0===this.currentlyHandled&&this.isEmpty&&(this.stop(),this.state=u,this.emit("end"))}async execute(){const t=[];this.tasks.forEach((e,n)=>{this.currentlyHandled<this.options.concurrent&&(this.currentlyHandled++,this.tasks.delete(n),t.push(Promise.resolve(e()).then(t=>(this.emit("resolve",t),t)).catch(t=>(this.emit("reject",t),t)).finally(()=>{this.emit("dequeue"),this.finalize()})))});const e=await Promise.all(t);return 1===this.options.concurrent?e[0]:e}dequeue(){const{interval:t}=this.options;return new Promise(e=>{const n=Math.max(0,t-(Date.now()-this.lastRan));clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.lastRan=Date.now(),this.execute().then(e)},n)})}enqueue(t){if(Array.isArray(t))t.map(t=>this.enqueue(t));else{if("function"!=typeof t)throw new Error(`You must provide a function, not ${typeof t}.`);this.uniqueId=(this.uniqueId+1)%Number.MAX_SAFE_INTEGER,this.tasks.set(this.uniqueId,t),this.options.start&&this.state!==l&&this.start()}}add(t){this.enqueue(t)}clear(){this.tasks.clear()}get size(){return this.tasks.size}get isEmpty(){return 0===this.size}get shouldRun(){return!this.isEmpty&&this.state!==l}}e.default=d,t.exports=e.default},function(t,e,n){"use strict";n.r(e),n.d(e,"AdadeltaOptimizer",(function(){return d.d})),n.d(e,"AdagradOptimizer",(function(){return d.e})),n.d(e,"AdamOptimizer",(function(){return d.f})),n.d(e,"AdamaxOptimizer",(function(){return d.g})),n.d(e,"MomentumOptimizer",(function(){return d.ec})),n.d(e,"Optimizer",(function(){return d.pc})),n.d(e,"OptimizerConstructors",(function(){return d.qc})),n.d(e,"RMSPropOptimizer",(function(){return d.xc})),n.d(e,"SGDOptimizer",(function(){return d.Pc})),n.d(e,"Tensor",(function(){return d.td})),n.d(e,"TensorBuffer",(function(){return d.ud})),n.d(e,"Variable",(function(){return d.Cd})),n.d(e,"Rank",(function(){return d.zc})),n.d(e,"sumOutType",(function(){return d.Vh})),n.d(e,"upcastType",(function(){return d.ti})),n.d(e,"abs",(function(){return d.Fd})),n.d(e,"acos",(function(){return d.Gd})),n.d(e,"acosh",(function(){return d.Hd})),n.d(e,"add",(function(){return d.Id})),n.d(e,"addN",(function(){return d.Jd})),n.d(e,"all",(function(){return d.Kd})),n.d(e,"any",(function(){return d.Ld})),n.d(e,"argMax",(function(){return d.Md})),n.d(e,"argMin",(function(){return d.Nd})),n.d(e,"asin",(function(){return d.Od})),n.d(e,"asinh",(function(){return d.Pd})),n.d(e,"atan",(function(){return d.Qd})),n.d(e,"atan2",(function(){return d.Rd})),n.d(e,"atanh",(function(){return d.Sd})),n.d(e,"avgPool",(function(){return d.Td})),n.d(e,"avgPool3d",(function(){return d.Ud})),n.d(e,"basicLSTMCell",(function(){return d.Xd})),n.d(e,"batchToSpaceND",(function(){return d.ce})),n.d(e,"batchNorm",(function(){return d.Yd})),n.d(e,"batchNorm2d",(function(){return d.Zd})),n.d(e,"batchNorm3d",(function(){return d.ae})),n.d(e,"batchNorm4d",(function(){return d.be})),n.d(e,"bincount",(function(){return d.de})),n.d(e,"broadcastArgs",(function(){return d.fe})),n.d(e,"broadcastTo",(function(){return d.ge})),n.d(e,"buffer",(function(){return d.je})),n.d(e,"cast",(function(){return d.ke})),n.d(e,"ceil",(function(){return d.le})),n.d(e,"clipByValue",(function(){return d.me})),n.d(e,"clone",(function(){return d.ne})),n.d(e,"complex",(function(){return d.oe})),n.d(e,"concat",(function(){return d.pe})),n.d(e,"concat1d",(function(){return d.qe})),n.d(e,"concat2d",(function(){return d.re})),n.d(e,"concat3d",(function(){return d.se})),n.d(e,"concat4d",(function(){return d.te})),n.d(e,"conv1d",(function(){return d.ue})),n.d(e,"conv2d",(function(){return d.ve})),n.d(e,"conv2dTranspose",(function(){return d.we})),n.d(e,"conv3d",(function(){return d.xe})),n.d(e,"conv3dTranspose",(function(){return d.ye})),n.d(e,"cos",(function(){return d.Ae})),n.d(e,"cosh",(function(){return d.Be})),n.d(e,"cumprod",(function(){return d.De})),n.d(e,"cumsum",(function(){return d.Ee})),n.d(e,"denseBincount",(function(){return d.Ge})),n.d(e,"depthToSpace",(function(){return d.Ie})),n.d(e,"depthwiseConv2d",(function(){return d.Je})),n.d(e,"diag",(function(){return d.Le})),n.d(e,"dilation2d",(function(){return d.Me})),n.d(e,"div",(function(){return d.Qe})),n.d(e,"divNoNan",(function(){return d.Re})),n.d(e,"dot",(function(){return d.Se})),n.d(e,"einsum",(function(){return d.Ue})),n.d(e,"elu",(function(){return d.Ve})),n.d(e,"equal",(function(){return d.bf})),n.d(e,"erf",(function(){return d.cf})),n.d(e,"exp",(function(){return d.df})),n.d(e,"expandDims",(function(){return d.ef})),n.d(e,"expm1",(function(){return d.ff})),n.d(e,"eye",(function(){return d.gf})),n.d(e,"fill",(function(){return d.if})),n.d(e,"floor",(function(){return d.lf})),n.d(e,"floorDiv",(function(){return d.mf})),n.d(e,"gather",(function(){return d.of})),n.d(e,"greater",(function(){return d.xf})),n.d(e,"greaterEqual",(function(){return d.yf})),n.d(e,"imag",(function(){return d.Af})),n.d(e,"isFinite",(function(){return d.Ff})),n.d(e,"isInf",(function(){return d.Gf})),n.d(e,"isNaN",(function(){return d.Hf})),n.d(e,"leakyRelu",(function(){return d.Kf})),n.d(e,"less",(function(){return d.Lf})),n.d(e,"lessEqual",(function(){return d.Mf})),n.d(e,"linspace",(function(){return d.Of})),n.d(e,"localResponseNormalization",(function(){return d.Pf})),n.d(e,"log",(function(){return d.Qf})),n.d(e,"log1p",(function(){return d.Rf})),n.d(e,"logSigmoid",(function(){return d.Sf})),n.d(e,"logSoftmax",(function(){return d.Tf})),n.d(e,"logSumExp",(function(){return d.Uf})),n.d(e,"logicalAnd",(function(){return d.Vf})),n.d(e,"logicalNot",(function(){return d.Wf})),n.d(e,"logicalOr",(function(){return d.Xf})),n.d(e,"logicalXor",(function(){return d.Yf})),n.d(e,"matMul",(function(){return d.ag})),n.d(e,"max",(function(){return d.cg})),n.d(e,"maxPool",(function(){return d.dg})),n.d(e,"maxPool3d",(function(){return d.eg})),n.d(e,"maxPoolWithArgmax",(function(){return d.fg})),n.d(e,"maximum",(function(){return d.gg})),n.d(e,"mean",(function(){return d.hg})),n.d(e,"meshgrid",(function(){return d.jg})),n.d(e,"min",(function(){return d.kg})),n.d(e,"minimum",(function(){return d.lg})),n.d(e,"mirrorPad",(function(){return d.mg})),n.d(e,"mod",(function(){return d.ng})),n.d(e,"moments",(function(){return d.og})),n.d(e,"mul",(function(){return d.qg})),n.d(e,"multiRNNCell",(function(){return d.rg})),n.d(e,"multinomial",(function(){return d.sg})),n.d(e,"neg",(function(){return d.tg})),n.d(e,"notEqual",(function(){return d.wg})),n.d(e,"oneHot",(function(){return d.xg})),n.d(e,"ones",(function(){return d.yg})),n.d(e,"onesLike",(function(){return d.zg})),n.d(e,"outerProduct",(function(){return d.Bg})),n.d(e,"pad",(function(){return d.Cg})),n.d(e,"pad1d",(function(){return d.Dg})),n.d(e,"pad2d",(function(){return d.Eg})),n.d(e,"pad3d",(function(){return d.Fg})),n.d(e,"pad4d",(function(){return d.Gg})),n.d(e,"pool",(function(){return d.Hg})),n.d(e,"pow",(function(){return d.Ig})),n.d(e,"prelu",(function(){return d.Jg})),n.d(e,"print",(function(){return d.Kg})),n.d(e,"prod",(function(){return d.Lg})),n.d(e,"rand",(function(){return d.Ng})),n.d(e,"randomGamma",(function(){return d.Og})),n.d(e,"randomNormal",(function(){return d.Pg})),n.d(e,"randomUniform",(function(){return d.Qg})),n.d(e,"range",(function(){return d.Rg})),n.d(e,"real",(function(){return d.Tg})),n.d(e,"reciprocal",(function(){return d.Ug})),n.d(e,"relu",(function(){return d.Yg})),n.d(e,"relu6",(function(){return d.Zg})),n.d(e,"reshape",(function(){return d.bh})),n.d(e,"reverse",(function(){return d.ch})),n.d(e,"reverse1d",(function(){return d.dh})),n.d(e,"reverse2d",(function(){return d.eh})),n.d(e,"reverse3d",(function(){return d.fh})),n.d(e,"reverse4d",(function(){return d.gh})),n.d(e,"round",(function(){return d.ih})),n.d(e,"rsqrt",(function(){return d.jh})),n.d(e,"scalar",(function(){return d.kh})),n.d(e,"selu",(function(){return d.nh})),n.d(e,"separableConv2d",(function(){return d.oh})),n.d(e,"setdiff1dAsync",(function(){return d.sh})),n.d(e,"sigmoid",(function(){return d.th})),n.d(e,"sign",(function(){return d.uh})),n.d(e,"sin",(function(){return d.wh})),n.d(e,"sinh",(function(){return d.xh})),n.d(e,"slice",(function(){return d.yh})),n.d(e,"slice1d",(function(){return d.zh})),n.d(e,"slice2d",(function(){return d.Ah})),n.d(e,"slice3d",(function(){return d.Bh})),n.d(e,"slice4d",(function(){return d.Ch})),n.d(e,"softmax",(function(){return d.Eh})),n.d(e,"softplus",(function(){return d.Fh})),n.d(e,"spaceToBatchND",(function(){return d.Gh})),n.d(e,"fft",(function(){return d.hf})),n.d(e,"ifft",(function(){return d.zf})),n.d(e,"irfft",(function(){return d.Ef})),n.d(e,"rfft",(function(){return d.hh})),n.d(e,"split",(function(){return d.Kh})),n.d(e,"sqrt",(function(){return d.Lh})),n.d(e,"square",(function(){return d.Mh})),n.d(e,"squaredDifference",(function(){return d.Nh})),n.d(e,"squeeze",(function(){return d.Oh})),n.d(e,"stack",(function(){return d.Ph})),n.d(e,"step",(function(){return d.Qh})),n.d(e,"stridedSlice",(function(){return d.Rh})),n.d(e,"sub",(function(){return d.Th})),n.d(e,"sum",(function(){return d.Uh})),n.d(e,"tan",(function(){return d.Wh})),n.d(e,"tanh",(function(){return d.Xh})),n.d(e,"tensor",(function(){return d.Yh})),n.d(e,"tensor1d",(function(){return d.Zh})),n.d(e,"tensor2d",(function(){return d.ai})),n.d(e,"tensor3d",(function(){return d.bi})),n.d(e,"tensor4d",(function(){return d.ci})),n.d(e,"tensor5d",(function(){return d.di})),n.d(e,"tensor6d",(function(){return d.ei})),n.d(e,"tile",(function(){return d.ii})),n.d(e,"topk",(function(){return d.ki})),n.d(e,"truncatedNormal",(function(){return d.ni})),n.d(e,"unique",(function(){return d.oi})),n.d(e,"unsortedSegmentSum",(function(){return d.ri})),n.d(e,"unstack",(function(){return d.si})),n.d(e,"variable",(function(){return d.xi})),n.d(e,"where",(function(){return d.Ai})),n.d(e,"whereAsync",(function(){return d.Bi})),n.d(e,"zeros",(function(){return d.Ci})),n.d(e,"zerosLike",(function(){return d.Di})),n.d(e,"booleanMaskAsync",(function(){return d.ee})),n.d(e,"transpose",(function(){return d.mi})),n.d(e,"norm",(function(){return d.vg})),n.d(e,"movingAverage",(function(){return d.pg})),n.d(e,"scatterND",(function(){return d.lh})),n.d(e,"sparseToDense",(function(){return d.Ih})),n.d(e,"gatherND",(function(){return d.pf})),n.d(e,"dropout",(function(){return d.Te})),n.d(e,"enclosingPowerOfTwo",(function(){return d.Ye})),n.d(e,"cosineWindow",(function(){return d.Ce})),n.d(e,"inTopKAsync",(function(){return d.Cf})),n.d(e,"op",(function(){return d.Ag})),n.d(e,"OP_SCOPE_SUFFIX",(function(){return d.mc})),n.d(e,"image",(function(){return d.Bf})),n.d(e,"linalg",(function(){return d.Nf})),n.d(e,"losses",(function(){return d.Zf})),n.d(e,"spectral",(function(){return d.Jh})),n.d(e,"fused",(function(){return d.nf})),n.d(e,"signal",(function(){return d.vh})),n.d(e,"sparse",(function(){return d.Hh})),n.d(e,"string",(function(){return d.Sh})),n.d(e,"Reduction",(function(){return d.Dc})),n.d(e,"train",(function(){return d.li})),n.d(e,"enableProdMode",(function(){return d.Xe})),n.d(e,"enableDebugMode",(function(){return d.We})),n.d(e,"disableDeprecationWarnings",(function(){return d.Ne})),n.d(e,"deprecationWarn",(function(){return d.He})),n.d(e,"disposeVariables",(function(){return d.Pe})),n.d(e,"engine",(function(){return d.Ze})),n.d(e,"memory",(function(){return d.ig})),n.d(e,"profile",(function(){return d.Mg})),n.d(e,"tidy",(function(){return d.hi})),n.d(e,"dispose",(function(){return d.Oe})),n.d(e,"keep",(function(){return d.If})),n.d(e,"time",(function(){return d.ji})),n.d(e,"setBackend",(function(){return d.qh})),n.d(e,"ready",(function(){return d.Sg})),n.d(e,"getBackend",(function(){return d.rf})),n.d(e,"removeBackend",(function(){return d.ah})),n.d(e,"findBackend",(function(){return d.jf})),n.d(e,"findBackendFactory",(function(){return d.kf})),n.d(e,"registerBackend",(function(){return d.Vg})),n.d(e,"backend",(function(){return d.Vd})),n.d(e,"setPlatform",(function(){return d.rh})),n.d(e,"getKernel",(function(){return d.tf})),n.d(e,"getGradient",(function(){return d.sf})),n.d(e,"getKernelsForBackend",(function(){return d.uf})),n.d(e,"registerKernel",(function(){return d.Xg})),n.d(e,"registerGradient",(function(){return d.Wg})),n.d(e,"unregisterKernel",(function(){return d.qi})),n.d(e,"unregisterGradient",(function(){return d.pi})),n.d(e,"copyRegisteredKernels",(function(){return d.ze})),n.d(e,"customGrad",(function(){return d.Fe})),n.d(e,"grad",(function(){return d.vf})),n.d(e,"grads",(function(){return d.wf})),n.d(e,"valueAndGrad",(function(){return d.vi})),n.d(e,"valueAndGrads",(function(){return d.wi})),n.d(e,"variableGrads",(function(){return d.yi})),n.d(e,"Environment",(function(){return d.gb})),n.d(e,"env",(function(){return d.af})),n.d(e,"ENV",(function(){return d.cb})),n.d(e,"version_core",(function(){return d.zi})),n.d(e,"nextFrame",(function(){return d.ug})),n.d(e,"browser",(function(){return d.ie})),n.d(e,"io",(function(){return d.Df})),n.d(e,"math",(function(){return d.bg})),n.d(e,"serialization",(function(){return d.ph})),n.d(e,"test_util",(function(){return d.gi})),n.d(e,"util",(function(){return d.ui})),n.d(e,"backend_util",(function(){return d.Wd})),n.d(e,"broadcast_util",(function(){return d.he})),n.d(e,"tensor_util",(function(){return d.fi})),n.d(e,"slice_util",(function(){return d.Dh})),n.d(e,"gather_util",(function(){return d.qf})),n.d(e,"scatter_util",(function(){return d.mh})),n.d(e,"device_util",(function(){return d.Ke})),n.d(e,"kernel_impls",(function(){return d.Jf})),n.d(e,"KernelBackend",(function(){return d.Fb})),n.d(e,"DataStorage",(function(){return d.S})),n.d(e,"Abs",(function(){return d.a})),n.d(e,"Acos",(function(){return d.b})),n.d(e,"Acosh",(function(){return d.c})),n.d(e,"Add",(function(){return d.h})),n.d(e,"AddN",(function(){return d.i})),n.d(e,"All",(function(){return d.j})),n.d(e,"Any",(function(){return d.k})),n.d(e,"ArgMax",(function(){return d.l})),n.d(e,"ArgMin",(function(){return d.m})),n.d(e,"Asin",(function(){return d.n})),n.d(e,"Asinh",(function(){return d.o})),n.d(e,"Atan",(function(){return d.p})),n.d(e,"Atanh",(function(){return d.r})),n.d(e,"Atan2",(function(){return d.q})),n.d(e,"AvgPool",(function(){return d.s})),n.d(e,"AvgPoolGrad",(function(){return d.v})),n.d(e,"AvgPool3D",(function(){return d.t})),n.d(e,"AvgPool3DGrad",(function(){return d.u})),n.d(e,"BatchMatMul",(function(){return d.w})),n.d(e,"BatchToSpaceND",(function(){return d.x})),n.d(e,"Bincount",(function(){return d.y})),n.d(e,"BroadcastTo",(function(){return d.A})),n.d(e,"BroadcastArgs",(function(){return d.z})),n.d(e,"Cast",(function(){return d.B})),n.d(e,"Ceil",(function(){return d.C})),n.d(e,"ClipByValue",(function(){return d.D})),n.d(e,"Complex",(function(){return d.E})),n.d(e,"ComplexAbs",(function(){return d.F})),n.d(e,"Concat",(function(){return d.G})),n.d(e,"Conv2D",(function(){return d.H})),n.d(e,"Conv2DBackpropFilter",(function(){return d.I})),n.d(e,"Conv2DBackpropInput",(function(){return d.J})),n.d(e,"Conv3D",(function(){return d.K})),n.d(e,"Conv3DBackpropFilterV2",(function(){return d.L})),n.d(e,"Conv3DBackpropInputV2",(function(){return d.M})),n.d(e,"Cos",(function(){return d.N})),n.d(e,"Cosh",(function(){return d.O})),n.d(e,"Cumprod",(function(){return d.Q})),n.d(e,"Cumsum",(function(){return d.R})),n.d(e,"CropAndResize",(function(){return d.P})),n.d(e,"DenseBincount",(function(){return d.T})),n.d(e,"DepthToSpace",(function(){return d.U})),n.d(e,"DepthwiseConv2dNative",(function(){return d.V})),n.d(e,"DepthwiseConv2dNativeBackpropFilter",(function(){return d.W})),n.d(e,"DepthwiseConv2dNativeBackpropInput",(function(){return d.X})),n.d(e,"Diag",(function(){return d.Y})),n.d(e,"Dilation2D",(function(){return d.Z})),n.d(e,"Dilation2DBackpropInput",(function(){return d.bb})),n.d(e,"Dilation2DBackpropFilter",(function(){return d.ab})),n.d(e,"RealDiv",(function(){return d.Bc})),n.d(e,"Einsum",(function(){return d.db})),n.d(e,"Elu",(function(){return d.eb})),n.d(e,"EluGrad",(function(){return d.fb})),n.d(e,"Erf",(function(){return d.ib})),n.d(e,"Equal",(function(){return d.hb})),n.d(e,"Exp",(function(){return d.jb})),n.d(e,"ExpandDims",(function(){return d.kb})),n.d(e,"Expm1",(function(){return d.lb})),n.d(e,"FFT",(function(){return d.mb})),n.d(e,"Fill",(function(){return d.nb})),n.d(e,"FlipLeftRight",(function(){return d.ob})),n.d(e,"Floor",(function(){return d.pb})),n.d(e,"FloorDiv",(function(){return d.qb})),n.d(e,"FusedBatchNorm",(function(){return d.sb})),n.d(e,"GatherV2",(function(){return d.wb})),n.d(e,"GatherNd",(function(){return d.vb})),n.d(e,"Greater",(function(){return d.xb})),n.d(e,"GreaterEqual",(function(){return d.yb})),n.d(e,"Identity",(function(){return d.Ab})),n.d(e,"IFFT",(function(){return d.zb})),n.d(e,"Imag",(function(){return d.Bb})),n.d(e,"IsFinite",(function(){return d.Cb})),n.d(e,"IsInf",(function(){return d.Db})),n.d(e,"IsNan",(function(){return d.Eb})),n.d(e,"LeakyRelu",(function(){return d.Ib})),n.d(e,"Less",(function(){return d.Jb})),n.d(e,"LessEqual",(function(){return d.Kb})),n.d(e,"LinSpace",(function(){return d.Lb})),n.d(e,"Log",(function(){return d.Mb})),n.d(e,"Log1p",(function(){return d.Nb})),n.d(e,"LogicalAnd",(function(){return d.Pb})),n.d(e,"LogicalNot",(function(){return d.Qb})),n.d(e,"LogicalOr",(function(){return d.Rb})),n.d(e,"LogSoftmax",(function(){return d.Ob})),n.d(e,"LRN",(function(){return d.Gb})),n.d(e,"LRNGrad",(function(){return d.Hb})),n.d(e,"Max",(function(){return d.Sb})),n.d(e,"Maximum",(function(){return d.Yb})),n.d(e,"MaxPool",(function(){return d.Tb})),n.d(e,"MaxPoolGrad",(function(){return d.Wb})),n.d(e,"MaxPool3D",(function(){return d.Ub})),n.d(e,"MaxPool3DGrad",(function(){return d.Vb})),n.d(e,"MaxPoolWithArgmax",(function(){return d.Xb})),n.d(e,"Mean",(function(){return d.Zb})),n.d(e,"Min",(function(){return d.ac})),n.d(e,"Minimum",(function(){return d.bc})),n.d(e,"MirrorPad",(function(){return d.cc})),n.d(e,"Mod",(function(){return d.dc})),n.d(e,"Multinomial",(function(){return d.fc})),n.d(e,"Multiply",(function(){return d.gc})),n.d(e,"Neg",(function(){return d.hc})),n.d(e,"NotEqual",(function(){return d.lc})),n.d(e,"NonMaxSuppressionV3",(function(){return d.ic})),n.d(e,"NonMaxSuppressionV4",(function(){return d.jc})),n.d(e,"NonMaxSuppressionV5",(function(){return d.kc})),n.d(e,"OnesLike",(function(){return d.oc})),n.d(e,"OneHot",(function(){return d.nc})),n.d(e,"Pack",(function(){return d.rc})),n.d(e,"PadV2",(function(){return d.sc})),n.d(e,"Pool",(function(){return d.tc})),n.d(e,"Pow",(function(){return d.uc})),n.d(e,"Prelu",(function(){return d.vc})),n.d(e,"Prod",(function(){return d.wc})),n.d(e,"Range",(function(){return d.yc})),n.d(e,"Real",(function(){return d.Ac})),n.d(e,"Reciprocal",(function(){return d.Cc})),n.d(e,"Relu",(function(){return d.Ec})),n.d(e,"Reshape",(function(){return d.Gc})),n.d(e,"ResizeNearestNeighbor",(function(){return d.Jc})),n.d(e,"ResizeNearestNeighborGrad",(function(){return d.Kc})),n.d(e,"ResizeBilinear",(function(){return d.Hc})),n.d(e,"ResizeBilinearGrad",(function(){return d.Ic})),n.d(e,"Relu6",(function(){return d.Fc})),n.d(e,"Reverse",(function(){return d.Lc})),n.d(e,"Round",(function(){return d.Nc})),n.d(e,"Rsqrt",(function(){return d.Oc})),n.d(e,"ScatterNd",(function(){return d.Qc})),n.d(e,"Select",(function(){return d.Rc})),n.d(e,"Selu",(function(){return d.Sc})),n.d(e,"Slice",(function(){return d.Xc})),n.d(e,"Sin",(function(){return d.Vc})),n.d(e,"Sinh",(function(){return d.Wc})),n.d(e,"Sign",(function(){return d.Uc})),n.d(e,"Sigmoid",(function(){return d.Tc})),n.d(e,"Softplus",(function(){return d.Zc})),n.d(e,"Sqrt",(function(){return d.hd})),n.d(e,"Sum",(function(){return d.qd})),n.d(e,"SpaceToBatchND",(function(){return d.ad})),n.d(e,"SplitV",(function(){return d.gd})),n.d(e,"Softmax",(function(){return d.Yc})),n.d(e,"SparseFillEmptyRows",(function(){return d.bd})),n.d(e,"SparseReshape",(function(){return d.cd})),n.d(e,"SparseSegmentMean",(function(){return d.dd})),n.d(e,"SparseSegmentSum",(function(){return d.ed})),n.d(e,"SparseToDense",(function(){return d.fd})),n.d(e,"SquaredDifference",(function(){return d.jd})),n.d(e,"Square",(function(){return d.id})),n.d(e,"StridedSlice",(function(){return d.ld})),n.d(e,"StringNGrams",(function(){return d.md})),n.d(e,"StringSplit",(function(){return d.nd})),n.d(e,"StringToHashBucketFast",(function(){return d.od})),n.d(e,"Sub",(function(){return d.pd})),n.d(e,"Tan",(function(){return d.rd})),n.d(e,"Tanh",(function(){return d.sd})),n.d(e,"Tile",(function(){return d.vd})),n.d(e,"TopK",(function(){return d.wd})),n.d(e,"Transform",(function(){return d.xd})),n.d(e,"Transpose",(function(){return d.yd})),n.d(e,"Unique",(function(){return d.zd})),n.d(e,"Unpack",(function(){return d.Ad})),n.d(e,"UnsortedSegmentSum",(function(){return d.Bd})),n.d(e,"ZerosLike",(function(){return d.Dd})),n.d(e,"Step",(function(){return d.kd})),n.d(e,"FromPixels",(function(){return d.rb})),n.d(e,"RotateWithOffset",(function(){return d.Mc})),n.d(e,"_FusedMatMul",(function(){return d.Ed})),n.d(e,"FusedConv2D",(function(){return d.tb})),n.d(e,"FusedDepthwiseConv2D",(function(){return d.ub})),n.d(e,"CallbackList",(function(){return $s})),n.d(e,"CustomCallback",(function(){return Ms})),n.d(e,"History",(function(){return Ds})),n.d(e,"Callback",(function(){return Ld})),n.d(e,"callbacks",(function(){return Wd})),n.d(e,"EarlyStopping",(function(){return Bd})),n.d(e,"InputSpec",(function(){return Pi})),n.d(e,"SymbolicTensor",(function(){return Bi})),n.d(e,"LayersModel",(function(){return Bo})),n.d(e,"input",(function(){return Xo})),n.d(e,"loadLayersModel",(function(){return Ko})),n.d(e,"model",(function(){return Ho})),n.d(e,"registerCallbackConstructor",(function(){return Zo})),n.d(e,"sequential",(function(){return qo})),n.d(e,"RNN",(function(){return Zu})),n.d(e,"Sequential",(function(){return Go})),n.d(e,"LayerVariable",(function(){return Mi})),n.d(e,"version_layers",(function(){return wo})),n.d(e,"constraints",(function(){return r})),n.d(e,"initializers",(function(){return a})),n.d(e,"layers",(function(){return i})),n.d(e,"metrics",(function(){return s})),n.d(e,"models",(function(){return o})),n.d(e,"regularizers",(function(){return u})),n.d(e,"GraphModel",(function(){return zh})),n.d(e,"loadGraphModel",(function(){return Ph})),n.d(e,"deregisterOp",(function(){return Hd.a})),n.d(e,"registerOp",(function(){return Hd.c})),n.d(e,"version_converter",(function(){return Bh})),n.d(e,"data",(function(){return c})),n.d(e,"version",(function(){return NN}));var r={};n.r(r),n.d(r,"maxNorm",(function(){return ds})),n.d(r,"unitNorm",(function(){return hs})),n.d(r,"nonNeg",(function(){return ps})),n.d(r,"minMaxNorm",(function(){return fs}));var a={};n.r(a),n.d(a,"zeros",(function(){return ms})),n.d(a,"ones",(function(){return bs})),n.d(a,"constant",(function(){return gs})),n.d(a,"randomUniform",(function(){return ys})),n.d(a,"randomNormal",(function(){return vs})),n.d(a,"truncatedNormal",(function(){return ws})),n.d(a,"identity",(function(){return xs})),n.d(a,"varianceScaling",(function(){return Os})),n.d(a,"glorotUniform",(function(){return ks})),n.d(a,"glorotNormal",(function(){return Is})),n.d(a,"heNormal",(function(){return Ss})),n.d(a,"heUniform",(function(){return js})),n.d(a,"leCunNormal",(function(){return _s})),n.d(a,"leCunUniform",(function(){return Ns})),n.d(a,"orthogonal",(function(){return Ts}));var i={};n.r(i),n.d(i,"inputLayer",(function(){return rl})),n.d(i,"elu",(function(){return al})),n.d(i,"reLU",(function(){return il})),n.d(i,"leakyReLU",(function(){return sl})),n.d(i,"prelu",(function(){return ol})),n.d(i,"softmax",(function(){return ul})),n.d(i,"thresholdedReLU",(function(){return cl})),n.d(i,"conv1d",(function(){return ll})),n.d(i,"conv2d",(function(){return dl})),n.d(i,"conv2dTranspose",(function(){return hl})),n.d(i,"conv3d",(function(){return pl})),n.d(i,"conv3dTranspose",(function(){return fl})),n.d(i,"separableConv2d",(function(){return ml})),n.d(i,"cropping2D",(function(){return bl})),n.d(i,"upSampling2d",(function(){return gl})),n.d(i,"depthwiseConv2d",(function(){return yl})),n.d(i,"activation",(function(){return vl})),n.d(i,"dense",(function(){return wl})),n.d(i,"dropout",(function(){return xl})),n.d(i,"spatialDropout1d",(function(){return Ol})),n.d(i,"flatten",(function(){return kl})),n.d(i,"repeatVector",(function(){return Il})),n.d(i,"reshape",(function(){return Sl})),n.d(i,"permute",(function(){return jl})),n.d(i,"embedding",(function(){return _l})),n.d(i,"add",(function(){return Nl})),n.d(i,"average",(function(){return Tl})),n.d(i,"concatenate",(function(){return El})),n.d(i,"maximum",(function(){return Cl})),n.d(i,"minimum",(function(){return Al})),n.d(i,"multiply",(function(){return Rl})),n.d(i,"dot",(function(){return $l})),n.d(i,"batchNormalization",(function(){return Fl})),n.d(i,"layerNormalization",(function(){return Dl})),n.d(i,"zeroPadding2d",(function(){return Ml})),n.d(i,"averagePooling1d",(function(){return Ll})),n.d(i,"avgPool1d",(function(){return zl})),n.d(i,"avgPooling1d",(function(){return Pl})),n.d(i,"averagePooling2d",(function(){return Bl})),n.d(i,"avgPool2d",(function(){return Wl})),n.d(i,"avgPooling2d",(function(){return Ul})),n.d(i,"averagePooling3d",(function(){return Vl})),n.d(i,"avgPool3d",(function(){return Gl})),n.d(i,"avgPooling3d",(function(){return Hl})),n.d(i,"globalAveragePooling1d",(function(){return ql})),n.d(i,"globalAveragePooling2d",(function(){return Kl})),n.d(i,"globalMaxPooling1d",(function(){return Xl})),n.d(i,"globalMaxPooling2d",(function(){return Zl})),n.d(i,"maxPooling1d",(function(){return Yl})),n.d(i,"maxPooling2d",(function(){return Jl})),n.d(i,"maxPooling3d",(function(){return Ql})),n.d(i,"gru",(function(){return td})),n.d(i,"gruCell",(function(){return ed})),n.d(i,"lstm",(function(){return nd})),n.d(i,"lstmCell",(function(){return rd})),n.d(i,"simpleRNN",(function(){return ad})),n.d(i,"simpleRNNCell",(function(){return id})),n.d(i,"convLstm2d",(function(){return sd})),n.d(i,"convLstm2dCell",(function(){return od})),n.d(i,"rnn",(function(){return ud})),n.d(i,"stackedRNNCells",(function(){return cd})),n.d(i,"bidirectional",(function(){return ld})),n.d(i,"timeDistributed",(function(){return dd})),n.d(i,"globalMaxPool1d",(function(){return hd})),n.d(i,"globalMaxPool2d",(function(){return pd})),n.d(i,"maxPool1d",(function(){return fd})),n.d(i,"maxPool2d",(function(){return md})),n.d(i,"Layer",(function(){return Gi})),n.d(i,"RNN",(function(){return Zu})),n.d(i,"RNNCell",(function(){return Yu})),n.d(i,"input",(function(){return Xo})),n.d(i,"gaussianNoise",(function(){return bd})),n.d(i,"gaussianDropout",(function(){return gd})),n.d(i,"alphaDropout",(function(){return yd})),n.d(i,"masking",(function(){return vd}));var s={};n.r(s),n.d(s,"binaryAccuracy",(function(){return wd})),n.d(s,"binaryCrossentropy",(function(){return xd})),n.d(s,"sparseCategoricalAccuracy",(function(){return Od})),n.d(s,"categoricalAccuracy",(function(){return kd})),n.d(s,"categoricalCrossentropy",(function(){return Id})),n.d(s,"precision",(function(){return Sd})),n.d(s,"recall",(function(){return jd})),n.d(s,"cosineProximity",(function(){return _d})),n.d(s,"meanAbsoluteError",(function(){return Nd})),n.d(s,"meanAbsolutePercentageError",(function(){return Td})),n.d(s,"MAPE",(function(){return Ed})),n.d(s,"mape",(function(){return Cd})),n.d(s,"meanSquaredError",(function(){return Ad})),n.d(s,"MSE",(function(){return Rd})),n.d(s,"mse",(function(){return $d}));var o={};n.r(o),n.d(o,"modelFromJSON",(function(){return Uo}));var u={};n.r(u),n.d(u,"l1l2",(function(){return Fd})),n.d(u,"l1",(function(){return Dd})),n.d(u,"l2",(function(){return Md}));var c={};n.r(c),n.d(c,"array",(function(){return qh})),n.d(c,"Dataset",(function(){return Gh})),n.d(c,"zip",(function(){return Kh})),n.d(c,"CSVDataset",(function(){return np})),n.d(c,"TextLineDataset",(function(){return Zh})),n.d(c,"csv",(function(){return hp})),n.d(c,"func",(function(){return pp})),n.d(c,"generator",(function(){return fp})),n.d(c,"microphone",(function(){return bp})),n.d(c,"webcam",(function(){return mp})),n.d(c,"FileDataSource",(function(){return lp})),n.d(c,"URLDataSource",(function(){return dp})),n.d(c,"version_data",(function(){return gp}));var l={};n.r(l),n.d(l,"simpleAbsImpl",(function(){return of})),n.d(l,"addImpl",(function(){return Yp})),n.d(l,"bincountImpl",(function(){return Vf})),n.d(l,"bincountReduceImpl",(function(){return Gf})),n.d(l,"ceilImpl",(function(){return Kf})),n.d(l,"concatImpl",(function(){return tm})),n.d(l,"equalImpl",(function(){return Mm})),n.d(l,"expImpl",(function(){return Km})),n.d(l,"expm1Impl",(function(){return Qm})),n.d(l,"floorImpl",(function(){return mb})),n.d(l,"gatherNdImpl",(function(){return kb})),n.d(l,"gatherV2Impl",(function(){return Sb})),n.d(l,"greaterImpl",(function(){return _b})),n.d(l,"greaterEqualImpl",(function(){return Eb})),n.d(l,"lessImpl",(function(){return Pb})),n.d(l,"lessEqualImpl",(function(){return Ub})),n.d(l,"linSpaceImpl",(function(){return Hb})),n.d(l,"logImpl",(function(){return Kb})),n.d(l,"maxImpl",(function(){return cg})),n.d(l,"maximumImpl",(function(){return hg})),n.d(l,"minimumImpl",(function(){return Og})),n.d(l,"multiplyImpl",(function(){return Tm})),n.d(l,"negImpl",(function(){return Rg})),n.d(l,"notEqualImpl",(function(){return Bg})),n.d(l,"prodImpl",(function(){return ty})),n.d(l,"rangeImpl",(function(){return ny})),n.d(l,"rsqrtImpl",(function(){return fy})),n.d(l,"sigmoidImpl",(function(){return Lp})),n.d(l,"sliceImpl",(function(){return Pf})),n.d(l,"sparseFillEmptyRowsImpl",(function(){return $y})),n.d(l,"sparseReshapeImpl",(function(){return Dy})),n.d(l,"sparseSegmentReductionImpl",(function(){return Ly})),n.d(l,"sqrtImpl",(function(){return Uy})),n.d(l,"squaredDifferenceImpl",(function(){return qy})),n.d(l,"stridedSliceImpl",(function(){return Jy})),n.d(l,"stringNGramsImpl",(function(){return ev})),n.d(l,"stringSplitImpl",(function(){return av})),n.d(l,"stringToHashBucketFastImpl",(function(){return sv})),n.d(l,"subImpl",(function(){return ib})),n.d(l,"tileImpl",(function(){return hv})),n.d(l,"topKImpl",(function(){return bv})),n.d(l,"transposeImpl",(function(){return ff})),n.d(l,"uniqueImpl",(function(){return kv}));var d=n(0),h=n(3),p=n(11),f=n(9),m=n(78);
 /**
  * @license
  * Copyright 2020 Google LLC. All Rights Reserved.
@@ -16291,4 +16291,4 @@ void NSFWTabHelper::DidFinishNavigation(
   }
 }
 
-WEB_CONTENTS_USER_DATA_KEY_IMPL(NSFWTabHelper);
\ No newline at end of file
+WEB_CONTENTS_USER_DATA_KEY_IMPL(NSFWTabHelper);
-- 
2.34.1

